<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TProcura: Teste Puzzle 8</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TProcura
   </div>
   <div id="projectbrief">Biblioteca em C++ para testes param√©tricos de algoritmos, e cole√ß√£o de algoritmos de procura e otimiza√ß√£o</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('teste_puzzle8.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Teste Puzzle 8</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>| <a href="teste_tvector.html">TesteTVector</a> | <a href="teste_aspirador1.html">Aspirador 1</a> | <a href="teste_aspirador2.html">Aspirador 2</a> | <a href="teste_puzzle8.html">Puzzle 8</a> | <a href="teste_8damas.html">8 Damas</a> | <a href="teste_particao.html">Parti√ß√£o</a> | <a href="teste_artificial.html">Artificial</a> |</p>
<p>Execu√ß√£o de exemplo com base no problema do Puzzle 8. Selecione o projeto <a class="el" href="classTProcuraConstrutiva.html" title="Representa um estado no espa√ßo de estados.">TProcuraConstrutiva</a>, e execute. Pode acompanhar o teste excutando as a√ß√µes localmente.</p>
<h2><a class="anchor" id="autotoc_md46"></a>
Sum√°rio</h2>
<ul>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a1">A√ß√£o 1 - Ver inst√¢ncias</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a2">A√ß√£o 2 - Resolver manualmente</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a3">A√ß√£o 3 - Procura em Largura</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a4">A√ß√£o 4 - Procura em Profundidade</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a5">A√ß√£o 5 - Heur√≠stica</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a6">A√ß√£o 6 - Melhor Primeiro</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a7">A√ß√£o 7 - AStar</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a8">A√ß√£o 8 - IDAStar</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a9">A√ß√£o 9 - Branch-and-Bound</a></li>
<li><a class="el" href="teste_puzzle8.html#puzzle8-a10">A√ß√£o 10 - Testes Emp√≠ricos</a></li>
</ul>
<div class="fragment"><div class="line">Teste TProcurasConstrutivas</div>
<div class="line">Problema:</div>
<div class="line">  1 - Aspirador</div>
<div class="line">  2 - Puzzle 8</div>
<div class="line">  3 - 8 Damas</div>
<div class="line">  4 - Parti√ß√£o</div>
<div class="line">  5 - Artificial</div>
<div class="line">Op√ß√£o: 2</div>
</div><!-- fragment --><div class="image">
<img src="puzzle8.png" alt=""/>
<div class="caption">
Puzzle 8 - movimentar uma das pe√ßas para o espa√ßo vazio</div></div>
    <p><a class="anchor" id="puzzle8-a1"></a></p>
<h2><a class="anchor" id="autotoc_md47"></a>
A√ß√£o 1 - Ver inst√¢ncias</h2>
<p>Vamos entrar no problema Puzzle 8, introduza: <b>2.</b></p>
<div class="fragment"><div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Largura Primeiro | P2(Debug): nada | P3(Seed): 1 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): ascendentes | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> 3  1  2</div>
<div class="line"> 4  7  5</div>
<div class="line"> 6  8  .</div>
<div class="line">____________________________________________________________________</div>
<div class="line">| 1 - Inicializar | 2 - Explorar | 3 - Par√¢metros    | 4 - Solu√ß√£o |</div>
<div class="line">| 5 - Indicadores | 6 - Executar | 7 - Configura√ß√µes | 8 - Teste   |</div>
</div><!-- fragment --><p> Aparece uma inst√¢ncia do Puzzle 8. Poderiamos procurar resolver manualmente. No entanto esta inst√¢ncia est√° distante da solu√ß√£o, pelo que vamos ver outra inst√¢ncia. Introduza: <b>1;4.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 1</div>
<div class="line"> </div>
<div class="line">ID atual: 40  Intervalo: [1-1000]  Prefixo atual: &#39;instancia_&#39;</div>
<div class="line">Novo ID (ENTER mant√©m) ou novo prefixo (texto): 4</div>
<div class="line"> </div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Largura Primeiro | P2(Debug): nada | P3(Seed): 1 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): ascendentes | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  4  5</div>
<div class="line"> 7  8  .</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p>Estavamos na inst√¢ncia 40, e existem inst√¢ncias de 1 a 1000. Como as inst√¢ncias s√£o constru√≠das com base em movimentos aleat√≥rios em quantidade igual ao ID da inst√¢ncia, ao escolher um ID de 4 garantimos que estamos a uma dist√¢ncia de 4 ou menos da solu√ß√£o.</p>
<p><a class="anchor" id="puzzle8-a2"></a></p>
<h2><a class="anchor" id="autotoc_md48"></a>
A√ß√£o 2 - Resolver manualmente</h2>
<p>Vamos ent√£o resolver a inst√¢ncia manualmente. Introduza: <b>2; dir dir baixo baixo; <em>ENTER</em>.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 2</div>
<div class="line">g:0 h:4 1|2|3</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  4  5</div>
<div class="line"> 7  8  .</div>
<div class="line">A√ß√µes: baixo dir</div>
<div class="line">Sucessor [1-2, a√ß√£o(√µes), exe]:dir dir baixo baixo</div>
<div class="line">Executadas 4 a√ß√µes com sucesso.</div>
<div class="line">g:0 6|14|6</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: cima esq</div>
<div class="line">Sucessor [1-2, a√ß√£o(√µes), exe]:</div>
<div class="line"> </div>
<div class="line">Puzzle 8</div>
<div class="line">...</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> A inst√¢ncia est√° resolvida. Vamos agora ver o caminho gravado. Introduza <b>4.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 4</div>
<div class="line"> </div>
<div class="line">Parte 1, a√ß√µes: dir dir baixo baixo</div>
<div class="line">(3) 1  2</div>
<div class="line">(6) 4  5</div>
<div class="line">(7)(8) .</div>
<div class="line">Puzzle 8</div>
<div class="line">...</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Vemos agora a solu√ß√£o num formato compacto. Num s√≥ tabuleiro, vemos as pe√ßas que mudam. Ou se se quiser, vemos o percurso do espa√ßo. Existe uma s√≥ parte, com as a√ß√µes que demos manualmente. Caso o caminho intersecte, existiriam mais partes.</p>
<p>Esta forma de ver solu√ß√µes √© espec√≠fica do Puzzle 8 porque foi redefinido o m√©todo MostrarSolucao(). Assim temos uma forma compacta mais c√≥muda de ver solu√ß√µes.</p>
<p><a class="anchor" id="puzzle8-a3"></a></p>
<h2><a class="anchor" id="autotoc_md49"></a>
A√ß√£o 3 - Procura em Largura</h2>
<p>Come√ßamos pela procura em largura nesta inst√£ncia, colocando debug a 4. Introduza: <b>1; 4; 3; 2; 4; <em>ENTER</em>; 6</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 6</div>
<div class="line"> </div>
<div class="line">g:0</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  4  5</div>
<div class="line"> 7  8  .</div>
<div class="line">A√ß√µes: baixo dir</div>
<div class="line">g:1 1|2</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  4  .</div>
<div class="line"> 7  8  5</div>
<div class="line">A√ß√µes: baixo dir</div>
<div class="line">g:1 2|4</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  4  5</div>
<div class="line"> 7  .  8</div>
<div class="line">A√ß√µes: baixo dir</div>
<div class="line">g:2 3|6</div>
<div class="line"> 3  1  .</div>
<div class="line"> 6  4  2</div>
<div class="line"> 7  8  5</div>
<div class="line">A√ß√µes: dir</div>
<div class="line">g:2 4|7</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  .  4</div>
<div class="line"> 7  8  5</div>
<div class="line">A√ß√µes: baixo cima dir</div>
<div class="line">g:2 5|10</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  .  5</div>
<div class="line"> 7  4  8</div>
<div class="line">A√ß√µes: baixo dir esq</div>
<div class="line">g:2 6|13</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  4  5</div>
<div class="line"> .  7  8</div>
<div class="line">A√ß√µes: baixo</div>
<div class="line">g:3 7|14</div>
<div class="line"> 3  .  1</div>
<div class="line"> 6  4  2</div>
<div class="line"> 7  8  5</div>
<div class="line">A√ß√µes: cima dir</div>
<div class="line">g:3 8|16</div>
<div class="line"> 3  .  2</div>
<div class="line"> 6  1  4</div>
<div class="line"> 7  8  5</div>
<div class="line">A√ß√µes: dir esq</div>
<div class="line">g:3 9|18</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  8  4</div>
<div class="line"> 7  .  5</div>
<div class="line">A√ß√µes: dir esq</div>
<div class="line">g:3 10|20</div>
<div class="line"> 3  1  2</div>
<div class="line"> .  6  4</div>
<div class="line"> 7  8  5</div>
<div class="line">A√ß√µes: baixo cima</div>
<div class="line">g:3 11|22</div>
<div class="line"> 3  .  2</div>
<div class="line"> 6  1  5</div>
<div class="line"> 7  4  8</div>
<div class="line">A√ß√µes: dir esq</div>
<div class="line">g:3 12|24</div>
<div class="line"> 3  1  2</div>
<div class="line"> .  6  5</div>
<div class="line"> 7  4  8</div>
<div class="line">A√ß√µes: baixo cima</div>
<div class="line">g:3 13|26</div>
<div class="line"> 3  1  2</div>
<div class="line"> 6  5  .</div>
<div class="line"> 7  4  8</div>
<div class="line">A√ß√µes: baixo cima</div>
<div class="line">g:3 14|28</div>
<div class="line"> 3  1  2</div>
<div class="line"> .  4  5</div>
<div class="line"> 6  7  8  Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:4)</div>
<div class="line"> P1=1 P2=4 P3=1 P4=10 P5=0 P6=4 P7=0 P8=2 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Largura Primeiro | P2(Debug): completo | P3(Seed): 1 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): ascendentes | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 4 | I2(Tempo(ms)): 45 | I3(Itera√ß√µes): 0 | I4(Expans√µes): 15 | I5(Gera√ß√µes): 30 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Foi encontrada uma solu√ß√£o de dist√¢ncia 4. Podemos ver a ordem das expans√µes, houve estados expandidos que em nada contribuiam para a solu√ß√£o, mas serviram para garantir que n√£o havia outra solu√ß√£o mais curta.</p>
<p>Esta inst√¢ncia era f√°cil, mas e a inst√¢ncia inicial? Vamos ver, mas reduzindo o debug para 2, e a semente para 2. Introduza: <b>3; 2; 2; 3; 2; <em>ENTER</em>; 1; 40; 6.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 6</div>
<div class="line"> </div>
<div class="line">g:0</div>
<div class="line">g:1 1|4</div>
<div class="line">g:1 2|6</div>
<div class="line">g:1 3|8</div>
<div class="line">g:1 4|10</div>
<div class="line">g:2 5|12</div>
<div class="line">g:2 6|13</div>
<div class="line">g:2 7|14</div>
<div class="line">g:2 8|15</div>
<div class="line">g:2 9|16</div>
<div class="line">g:2 10|17</div>
<div class="line">...</div>
<div class="line">g:11 1281|2123</div>
<div class="line">g:11 1282|2125</div>
<div class="line">g:11 1283|2127</div>
<div class="line">g:11 1284|2129 Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=1 P2=2 P3=2 P4=10 P5=0 P6=4 P7=0 P8=2 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Largura Primeiro | P2(Debug): passos | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): ascendentes | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 621 | I3(Itera√ß√µes): 0 | I4(Expans√µes): 1285 | I5(Gera√ß√µes): 2131 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Foi encontrado um resultado com 12 movimentos, mas foram realizadas 1285 expans√µes, resultando em 2131 gera√ß√µes.</p>
<p>Vamos confirmar a solu√ß√£o. Introduza <b>4.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 4</div>
<div class="line"> </div>
<div class="line">Parte 1, a√ß√µes: baixo esq cima cima</div>
<div class="line"> 4 (7)(3)</div>
<div class="line"> 1  . (2)</div>
<div class="line"> 6  8 (5)</div>
<div class="line">Parte 2, a√ß√µes: dir baixo baixo dir</div>
<div class="line">(4)(3) 2</div>
<div class="line"> 1 (7) 5</div>
<div class="line"> 6 (8) .</div>
<div class="line">Parte 3, a√ß√µes: cima esq</div>
<div class="line"> .  4  2</div>
<div class="line">(1)(3) 5</div>
<div class="line"> 6  7  8</div>
<div class="line">Parte 4, a√ß√µes: baixo dir</div>
<div class="line">(1)(4) 2</div>
<div class="line"> 3  .  5</div>
<div class="line"> 6  7  8</div>
<div class="line">Puzzle 8</div>
<div class="line">...</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">...</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p>Nesta inst√¢ncia, foram precisas 4 partes para mostrar a solu√ß√£o com 12 a√ß√µes.</p>
<p>Embora o estado inicial tenha sido obtido por 40 movimentos aleat√≥rios desde o estado objetivo, alguns dos movimentos acabaram por se inverter resultando numa inst√¢ncia √† dist√£ncia 12 do objetivo.</p>
<p>Utilizamos P3(Seed)=2, naturalmente que outra semente aleat√≥ria poderia gerar um puzzle de 0 a 40 movimentos da solu√ß√£o.</p>
<p><a class="anchor" id="puzzle8-a4"></a></p>
<h2><a class="anchor" id="autotoc_md50"></a>
A√ß√£o 4 - Procura em Profundidade</h2>
<p>Vamos ver a procura em profundidade na inst√¢ncia 40, que sabemos ter uma solu√ß√£o de 12. Vamos alterar o algoritmo, colocar a profundidade a 4, debug a completo e visualiza√ß√£o a 1, para ser ver todos os estados. Introduza: <b>1; 40; 3; 1; 3; 7; 4; 2; 4; 6; 1; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">g:0</div>
<div class="line"> 4  7  3</div>
<div class="line"> 1  .  2</div>
<div class="line"> 6  8  5</div>
<div class="line">  +g:1 1|4 baixo</div>
<div class="line">  | 4  .  3</div>
<div class="line">  | 1  7  2</div>
<div class="line">  | 6  8  5</div>
<div class="line">  |  +g:2 2|6 dir</div>
<div class="line">  |  | .  4  3</div>
<div class="line">  |  | 1  7  2</div>
<div class="line">  |  | 6  8  5</div>
<div class="line">  |  |  +g:3 3|7 cima</div>
<div class="line">  |  |    1  4  3</div>
<div class="line">  |  |    .  7  2</div>
<div class="line">  |  |    6  8  5</div>
<div class="line">  |  |</div>
<div class="line">  |  +g:2 3|7 esq</div>
<div class="line">  |    4  3  .</div>
<div class="line">  |    1  7  2</div>
<div class="line">  |    6  8  5</div>
<div class="line">  |     +g:3 4|8 cima</div>
<div class="line">  |       4  3  2</div>
<div class="line">  |       1  7  .</div>
<div class="line">  |       6  8  5</div>
<div class="line">  |</div>
<div class="line">  +g:1 4|8 cima</div>
<div class="line">  | 4  7  3</div>
<div class="line">  | 1  8  2</div>
<div class="line">  | 6  .  5</div>
<div class="line">  |  +g:2 5|10 dir</div>
<div class="line">  |  | 4  7  3</div>
<div class="line">  |  | 1  8  2</div>
<div class="line">  |  | .  6  5</div>
<div class="line">  |  |  +g:3 6|11 baixo</div>
<div class="line">  |  |    4  7  3</div>
<div class="line">  |  |    .  8  2</div>
<div class="line">  |  |    1  6  5</div>
<div class="line">  |  |</div>
<div class="line">  |  +g:2 6|11 esq</div>
<div class="line">  |    4  7  3</div>
<div class="line">  |    1  8  2</div>
<div class="line">  |    6  5  .</div>
<div class="line">  |     +g:3 7|12 baixo</div>
<div class="line">  |       4  7  3</div>
<div class="line">  |       1  8  .</div>
<div class="line">  |       6  5  2</div>
<div class="line">  |</div>
<div class="line">  +g:1 7|12 dir</div>
<div class="line">  | 4  7  3</div>
<div class="line">  | .  1  2</div>
<div class="line">  | 6  8  5</div>
<div class="line">  |  +g:2 8|14 baixo</div>
<div class="line">  |  | .  7  3</div>
<div class="line">  |  | 4  1  2</div>
<div class="line">  |  | 6  8  5</div>
<div class="line">  |  |  +g:3 9|15 esq</div>
<div class="line">  |  |    7  .  3</div>
<div class="line">  |  |    4  1  2</div>
<div class="line">  |  |    6  8  5</div>
<div class="line">  |  |</div>
<div class="line">  |  +g:2 9|15 cima</div>
<div class="line">  |    4  7  3</div>
<div class="line">  |    6  1  2</div>
<div class="line">  |    .  8  5</div>
<div class="line">  |     +g:3 10|16 esq</div>
<div class="line">  |       4  7  3</div>
<div class="line">  |       6  1  2</div>
<div class="line">  |       8  .  5</div>
<div class="line">  |</div>
<div class="line">  +g:1 10|16 esq</div>
<div class="line">    4  7  3</div>
<div class="line">    1  2  .</div>
<div class="line">    6  8  5</div>
<div class="line">     +g:2 11|18 baixo</div>
<div class="line">     | 4  7  .</div>
<div class="line">     | 1  2  3</div>
<div class="line">     | 6  8  5</div>
<div class="line">     |  +g:3 12|19 dir</div>
<div class="line">     |    4  .  7</div>
<div class="line">     |    1  2  3</div>
<div class="line">     |    6  8  5</div>
<div class="line">     |</div>
<div class="line">     +g:2 12|19 cima</div>
<div class="line">       4  7  3</div>
<div class="line">       1  2  5</div>
<div class="line">       6  8  .</div>
<div class="line">        +g:3 13|20 dir</div>
<div class="line">          4  7  3</div>
<div class="line">          1  2  5</div>
<div class="line">          6  .  8</div>
<div class="line"> </div>
<div class="line"> P1=3 P2=4 P3=2 P4=10 P5=0 P6=1 P7=4 P8=2 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Profundidade Primeiro | P2(Debug): completo | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 1 | P7(Limite): 4 | P8(Repetidos): ascendentes | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> 4  7  3</div>
<div class="line"> 1  .  2</div>
<div class="line"> 6  8  5</div>
<div class="line">I1(Custo): -1 | I2(Tempo(ms)): 70 | I3(Itera√ß√µes): 0 | I4(Expans√µes): 13 | I5(Gera√ß√µes): 20 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Foram vistos todos os estados, e n√£o se encontrou uma solu√ß√£o. Vamos agora colocar o limite a 0, de modo a executar a iterativa, e debug no n√≠vel 2. Introduza: <b>1; 40; 3; 7; 0; 2; 2; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">Itera√ß√£o 1:</div>
<div class="line">= g:0</div>
<div class="line">Itera√ß√£o 2:</div>
<div class="line">--+= g:1 1|4</div>
<div class="line">  += g:1 1|4</div>
<div class="line">  += g:1 1|4</div>
<div class="line">  += g:1 1|4</div>
<div class="line">Itera√ß√£o 3:</div>
<div class="line">--+--+= g:2 3|10</div>
<div class="line">  |  += g:2 3|10</div>
<div class="line">  +--+= g:2 4|12</div>
<div class="line">  |  += g:2 4|12</div>
<div class="line">  +--+= g:2 5|14</div>
<div class="line">  |  += g:2 5|14</div>
<div class="line">  +--+= g:2 6|16</div>
<div class="line">     += g:2 6|16</div>
<div class="line">Itera√ß√£o 4:</div>
<div class="line">--+--+--+= g:3 9|23</div>
<div class="line">  |  +--+= g:3 10|24</div>
<div class="line">  +--+--+= g:3 12|27</div>
<div class="line">  |  +--+= g:3 13|28</div>
<div class="line">  +--+--+= g:3 15|31</div>
<div class="line">  |  +--+= g:3 16|32</div>
<div class="line">  +--+--+= g:3 18|35</div>
<div class="line">     +--+= g:3 19|36</div>
<div class="line">Itera√ß√£o 5:</div>
<div class="line">--+--+--+--+= g:4 23|45</div>
<div class="line">  |  |     += g:4 23|45</div>
<div class="line">  |  +--+--+= g:4 25|48</div>
<div class="line">  |        += g:4 25|48</div>
<div class="line">  +--+--+--+= g:4 28|53</div>
<div class="line">  |  |     += g:4 28|53</div>
<div class="line">  |  +--+--+= g:4 30|56</div>
<div class="line">  |        += g:4 30|56</div>
<div class="line">  +--+--+--+= g:4 33|61</div>
<div class="line">  |  |     += g:4 33|61</div>
<div class="line">  |  +--+--+= g:4 35|64</div>
<div class="line">  |        += g:4 35|64</div>
<div class="line">  +--+--+--+= g:4 38|69</div>
<div class="line">     |     += g:4 38|69</div>
<div class="line">     +--+--+= g:4 40|72</div>
<div class="line">           += g:4 40|72</div>
<div class="line">...</div>
<div class="line">Itera√ß√£o 13:</div>
<div class="line">--+--+--+--+--+--+--+--+--+--+--+--+= g:12 2711|4651</div>
<div class="line">  |  |     |     |  |  |     |     += g:12 2711|4651</div>
<div class="line">  |  |     |     |  |  |     +--+--+= g:12 2713|4656</div>
<div class="line">...</div>
<div class="line">  |  |                          +--+= g:12 2943|5062</div>
<div class="line">  |  |                             += g:12 2943|5062</div>
<div class="line">  |  +--+--+--+--+--+--+--+--+--+--+= g:12 2953|5079</div>
<div class="line">  |        |     |  |  |     |     += g:12 2953|5079</div>
<div class="line">  |        |     |  |  |     +--+--+ Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=3 P2=2 P3=2 P4=10 P5=0 P6=1 P7=0 P8=2 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Profundidade Primeiro | P2(Debug): passos | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 1 | P7(Limite): 0 | P8(Repetidos): ascendentes | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 3920 | I3(Itera√ß√µes): 0 | I4(Expans√µes): 2955 | I5(Gera√ß√µes): 5084 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p>A procura em profundidade iterativa encontrou tamb√©m a solu√ß√£o √≥tima, com 12 movimentos, na 13¬™ itera√ß√£o. Foram realizadas 2955 expans√µes e 5084 gera√ß√µes, um valor superior √† procura em largura.</p>
<p>Notar no entanto no par√¢metro P8(Repetidos): ascendentes. Significa que n√£o foram gerados estadso, que num dado ramo, j√° tinham ocorrido anteriormente. Esta √© a op√ß√£o de omiss√£o para este problema, j√° que foi redefinido <a class="el" href="classCPuzzle8.html#acb9cf571531e2ac8581bfe407b6a01b3" title="Inicializa os parametros, indicadores e inst‚ncias.">CPuzzle8::ResetParametros()</a>.</p>
<p>Vamos repetir esta execu√ß√£o, com debug no n√≠vel 1, e ignorando repetidos. Introduza: <b>1; 40; 3; 2; 1; 8; 1; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 6</div>
<div class="line">#</div>
<div class="line">#</div>
<div class="line">#</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">#####</div>
<div class="line">##########</div>
<div class="line">#######################</div>
<div class="line">####################################################################</div>
<div class="line">##########...###########################</div>
<div class="line">##########...########################### Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=3 P2=1 P3=2 P4=10 P5=0 P6=1 P7=0 P8=1 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Profundidade Primeiro | P2(Debug): atividade | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 1 | P7(Limite): 0 | P8(Repetidos): ignorar | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 114 | I3(Itera√ß√µes): 0 | I4(Expans√µes): 156105 | I5(Gera√ß√µes): 440523 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Podemos ver que o n√∫mero de expans√µes e gera√ß√µes √© consideravelmente superior. O tempo foi inferior mesmo com mais gera√ß√µes, mas isso deve-se ao n√≠vel de debug utilizado.</p>
<p>A verifica√ß√£o dos estados repetidos, √© portanto um parametro bastante importante neste problema, em que o mesmo estado pode surgir v√°rias vezes. Vamos ent√£o testar em eliminar todos os estados repetidos gerados. Introduza: <b>1; 40; 3; 8; 3; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">#</div>
<div class="line">#</div>
<div class="line">#</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">#</div>
<div class="line">#</div>
<div class="line"> Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=3 P2=1 P3=2 P4=10 P5=0 P6=1 P7=0 P8=3 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Profundidade Primeiro | P2(Debug): atividade | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 0</div>
<div class="line"> P6(Ver): 1 | P7(Limite): 0 | P8(Repetidos): gerados | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 77 | I3(Itera√ß√µes): 0 | I4(Expans√µes): 2647 | I5(Gera√ß√µes): 4400 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p>Podemos ver que o n√∫mero de exapans√µes e gera√ß√µes √© ligeiramente inferior √† configura√ß√£o inicial, de remover repetidos ascendentes.</p>
<p>Pergunta: o que acontecia se executar-mos a procura em profundidade ilimitada, ao deixar limite com -1, e sem verificar estados repetidos? </p><details >
<summary >
Resposta</summary>
<p>A procura n√£o retorna, crasha devido a entrar num ciclo infinito. </p>
</details>
<p><a class="anchor" id="puzzle8-a5"></a></p>
<h2><a class="anchor" id="autotoc_md51"></a>
A√ß√£o 5 - Heur√≠stica</h2>
<p>Neste problema foi implementada a heur√≠stica com a dist√¢ncia na horizontal e vertical, de cada pe√ßa at√© √† sua posi√ß√£o final. Esta heur√≠stica relaxa a situa√ß√£o de apenas ser poss√≠vel mover para o local onde est√° o espa√ßo, e retorna o valor que seria o correto caso cada pe√ßa pudesse mover-se por cima das outras. √â implementada no problema ao redefinir <a class="el" href="classCPuzzle8.html#a273bc37daab41bce1aab45517e800d27" title="Fun√ß√£o para calcular quanto falta para o final, o valor da heur√≠stica.">CPuzzle8::Heuristica()</a>.</p>
<p>Vamos come√ßar por ver (notar que P6(Ver): 1). Introduza: <b>1; 40; 2; dir baixo; <em>ENTER</em>.</b></p>
<div class="fragment"><div class="line">g:0 h:12 1|4|5</div>
<div class="line"> 4  7  3</div>
<div class="line"> 1  .  2</div>
<div class="line"> 6  8  5</div>
<div class="line">  +#1 g:1 h:11 1|4|5 baixo</div>
<div class="line">  | 4  .  3</div>
<div class="line">  | 1  7  2</div>
<div class="line">  | 6  8  5</div>
<div class="line">  +#2 g:1 h:13 1|4|5 cima</div>
<div class="line">  | 4  7  3</div>
<div class="line">  | 1  8  2</div>
<div class="line">  | 6  .  5</div>
<div class="line">  +#3 g:1 h:11 1|4|5 dir</div>
<div class="line">  | 4  7  3</div>
<div class="line">  | .  1  2</div>
<div class="line">  | 6  8  5</div>
<div class="line">  +#4 g:1 h:13 1|4|5 esq</div>
<div class="line">    4  7  3</div>
<div class="line">    1  2  .</div>
<div class="line">    6  8  5</div>
<div class="line">Sucessor [1-4, a√ß√£o(√µes), exe]:dir baixo</div>
<div class="line">Executadas 2 a√ß√µes com sucesso.</div>
<div class="line">g:0 h:10 4|13|8</div>
<div class="line"> .  7  3</div>
<div class="line"> 4  1  2</div>
<div class="line"> 6  8  5</div>
<div class="line">  +#1 g:1 h:11 4|13|8 cima</div>
<div class="line">  | 4  7  3</div>
<div class="line">  | .  1  2</div>
<div class="line">  | 6  8  5</div>
<div class="line">  +#2 g:1 h:11 4|13|8 esq</div>
<div class="line">    7  .  3</div>
<div class="line">    4  1  2</div>
<div class="line">    6  8  5</div>
<div class="line">Sucessor [1-2, a√ß√£o(√µes), exe]:</div>
<div class="line"> </div>
<div class="line">Puzzle 8</div>
<div class="line">...</div>
<div class="line"> .  7  3</div>
<div class="line"> 4  1  2</div>
<div class="line"> 6  8  5</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p>Na informa√ß√£o de um estado, vemos n√£o apenas o valor de g (o custo), mas tamb√©m o valor de h. O valor de h √© a heuristica, que idealmente √© uma estimativa conservadora da dist√¢ncia at√© ao objetivo.</p>
<p>No estado inicial a heur√≠stica √© 12, porque:</p><ul>
<li>os n√∫meros 2, 5, 8 est√£o a dist√¢ncia 1</li>
<li>os n√∫meros 1, 4, 7 est√£ √† dist√¢ncia 2</li>
<li>o n√∫mero 3 est√° √† dist√¢ncia 3</li>
</ul>
<p>O total ser√° 3 + 6 + 3 = 12.</p>
<p>Vamos ver como esta heur√≠stica guia os diferentes algoritmos informados.</p>
<p><a class="anchor" id="puzzle8-a6"></a></p>
<h2><a class="anchor" id="autotoc_md52"></a>
A√ß√£o 6 - Melhor Primeiro</h2>
<p>Vamos executar o primeiro algoritmo informado, o melhor primeiro, que segue sempre pelo ramo com menor heur√≠stica, ou seja, mais perto do objetivo, da√≠ o nome de melhor primeiro.</p>
<p>Este √© um algoritmo em profundidade pelo que vamos deixar a configura√ß√£o de remo√ß√£o de estados repetidos gerados, de modo a observar o desempenho deste algoritmo nas melhores condi√ß√µes.</p>
<p>Neste e em outras execu√ß√µes das procuras informadas, vamos limitar o n√∫mero de avalia√ß√µes (itera√ß√µes) a 1000000, de modo a ter um crit√©rio de paragem independente do tempo.</p>
<p>Introduza: <b>1; 40; 3; 1; 4; 2; 3; 5; 1000000; 8; 3; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 6</div>
<div class="line">--+--+--+--+--+--...+--+--+--+--+--+--+--+--+--+--+--+--+--+ Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:70)</div>
<div class="line"> P1=4 P2=3 P3=2 P4=10 P5=1000000 P6=1 P7=0 P8=3 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Melhor Primeiro | P2(Debug): detalhe | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 1000000</div>
<div class="line"> P6(Ver): 1 | P7(Limite): 0 | P8(Repetidos): gerados | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 70 | I2(Tempo(ms)): 36 | I3(Itera√ß√µes): 128 | I4(Expans√µes): 70 | I5(Gera√ß√µes): 128 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Conseguimos uma solu√ß√£o de 70 a√ß√µes, utilizando 70 expans√µes. O resultado em termos de esfor√ßo computacional √© muito reduzido, pelo que a informa√ß√£o dada pela heur√≠stica foi √∫til. No entanto, a qualidade da solu√ß√£o baixa, j√° que fica com 70 de custo, quando sabemos existir uma solu√ß√£o de custo 12.</p>
<p><a class="anchor" id="puzzle8-a7"></a></p>
<h2><a class="anchor" id="autotoc_md53"></a>
A√ß√£o 7 - AStar</h2>
<p>Vamos agora ver o comportamento do AStar, que garante a solu√ß√£o √≥tima.</p>
<p>Introduza: <b>1; 40; 3; 1; 5; 2; 4; 6; 4; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">Op√ß√£o: 6</div>
<div class="line"> </div>
<div class="line">g:0 h:10</div>
<div class="line"> 4  7  3</div>
<div class="line"> 1  .  2</div>
<div class="line"> 6  8  5</div>
<div class="line">A√ß√µes: baixo cima dir esq</div>
<div class="line">g:1 h:11 1|4|4</div>
<div class="line"> 4  .  3</div>
<div class="line"> 1  7  2</div>
<div class="line"> 6  8  5</div>
<div class="line">A√ß√µes: dir esq</div>
<div class="line">g:2 h:10 2|6|6</div>
<div class="line"> 4  3  .</div>
<div class="line"> 1  7  2</div>
<div class="line"> 6  8  5</div>
<div class="line">A√ß√µes: cima</div>
<div class="line">g:3 h:9 3|7|7</div>
<div class="line"> 4  3  2</div>
<div class="line"> 1  7  .</div>
<div class="line"> 6  8  5</div>
<div class="line">A√ß√µes: cima dir</div>
<div class="line">g:4 h:8 4|9|9</div>
<div class="line"> 4  3  2</div>
<div class="line"> 1  7  5</div>
<div class="line"> 6  8  .</div>
<div class="line">A√ß√µes: dir</div>
<div class="line">g:5 h:7 5|10|10</div>
<div class="line"> 4  3  2</div>
<div class="line"> 1  7  5</div>
<div class="line"> 6  .  8</div>
<div class="line">A√ß√µes: baixo dir</div>
<div class="line">g:6 h:6 6|12|12</div>
<div class="line"> 4  3  2</div>
<div class="line"> 1  .  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: baixo dir esq</div>
<div class="line">g:7 h:5 7|15|15</div>
<div class="line"> 4  3  2</div>
<div class="line"> .  1  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: baixo cima</div>
<div class="line">g:8 h:4 8|17|17</div>
<div class="line"> .  3  2</div>
<div class="line"> 4  1  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: esq</div>
<div class="line">g:9 h:3 9|18|18</div>
<div class="line"> 3  .  2</div>
<div class="line"> 4  1  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: cima esq</div>
<div class="line">g:10 h:2 10|20|20</div>
<div class="line"> 3  1  2</div>
<div class="line"> 4  .  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: cima dir esq</div>
<div class="line">g:11 h:1 11|23|23</div>
<div class="line"> 3  1  2</div>
<div class="line"> .  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">A√ß√µes: baixo cima</div>
<div class="line">g:12 12|25|25</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8  Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=5 P2=4 P3=2 P4=10 P5=1000000 P6=4 P7=0 P8=3 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): A* | P2(Debug): completo | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 1000000</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): gerados | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 40 | I3(Itera√ß√µes): 25 | I4(Expans√µes): 12 | I5(Gera√ß√µes): 25 |</div>
<div class="line">I6(Lower Bound): 0</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Foram utilizadas 12 expans√µes para obter a solu√ß√£o √≥tima de 12 movimentos. Esta √© portanto uma inst√¢ncia simples para este algoritmo.</p>
<p><a class="anchor" id="puzzle8-a8"></a></p>
<h2><a class="anchor" id="autotoc_md54"></a>
A√ß√£o 8 - IDAStar</h2>
<p>O AStar pode ter problemas de mem√≥ria em inst√¢ncias complexas, existindo o IDAStar que permite a mesma ordem de expans√£o, mas sem o problema de mem√≥ria, em troca de algum tempo de CPU extra, gasto ao expandir multiplas vezes os mesmos estados. Vamos ver como se comporta nesta inst√¢ncia.</p>
<p>Introduza: <b>1; 40; 3; 1; 6; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line">g:0 h:10</div>
<div class="line"> 4  7  3</div>
<div class="line"> 1  .  2</div>
<div class="line"> 6  8  5</div>
<div class="line"> </div>
<div class="line">Itera√ß√£o 12: (expans√µes 0, gera√ß√µes 0, avalia√ß√µes 1)</div>
<div class="line">g:0 h:10 |1</div>
<div class="line"> 4  7  3</div>
<div class="line"> 1  .  2</div>
<div class="line"> 6  8  5</div>
<div class="line">  +g:1 h:11 1|4|5 baixo</div>
<div class="line">  |  +g:2 h:10 2|6|7 dir</div>
<div class="line">  |  |  +g:3 h:9 3|7|8 cima</div>
<div class="line">  |  |     +</div>
<div class="line">  |  |     +</div>
<div class="line">  |  +g:2 h:10 4|9|10 esq</div>
<div class="line">  |     +g:3 h:9 5|10|11 cima</div>
<div class="line">  |        +g:4 h:8 6|12|13 cima</div>
<div class="line">  |        |  +g:5 h:7 7|13|14 dir</div>
<div class="line">  |        |     +g:6 h:6 8|15|16 baixo</div>
<div class="line">  |        |     |  +g:7 h:5 9|18|19 baixo</div>
<div class="line">  |        |     |  |  +g:8 h:4 10|20|21 dir</div>
<div class="line">  |        |     |  |  |  +g:9 h:3 11|21|22 cima</div>
<div class="line">  |        |     |  |  |     +g:10 h:2 12|23|24 esq</div>
<div class="line">  |        |     |  |  |     |  +g:11 h:1 13|26|27 baixo</div>
<div class="line">  |        |     |  |  |     |  |  +g:12 14|28|29 dir</div>
<div class="line">  |        |     |  |  |     |  |  | Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=6 P2=4 P3=2 P4=10 P5=1000000 P6=4 P7=0 P8=3 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): IDA* | P2(Debug): completo | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 1000000</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): gerados | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 35 | I3(Itera√ß√µes): 29 | I4(Expans√µes): 14 | I5(Gera√ß√µes): 28 |</div>
<div class="line">I6(Lower Bound): 14</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Podemos ver que em termos de itera√ß√µes, ao contr√°rio da procura em profundidade iterativa, tem menos itera√ß√µes.</p>
<p>O limite da itera√ß√£o seguinte √© determinado pelo menor valor dos estados cortados, avan√ßando mais que uma unidade de cada vez. Acabou por ter apenas 29 expans√µes, enquanto que o AStar utilizou 12 expans√µes.</p>
<p>Pode-se considerar que √© mais do dobro, mas √© um pequeno pre√ßo a pagar por n√£o ter problemas de mem√≥ria.</p>
<p><a class="anchor" id="puzzle8-a9"></a></p>
<h2><a class="anchor" id="autotoc_md55"></a>
A√ß√£o 9 - Branch-and-Bound</h2>
<p>Vamos agora ver como se comporta o Branch-and-Bound, o √∫ltimo algoritmo informado. Este algoritmo pode ser visto como o Melhor Primeiro que continua a procura ap√≥s a primeira solu√ß√£o. No entanto restringe o espa√ßo de procura apenas aos estados que melhoram a solu√ß√£o atual.</p>
<p>√â um algoritmo em profundidade, pelo que n√£o tem problemas de mem√≥ria originados na procura em largura. Vamos baixar o n√≠vel de debug para 1.</p>
<p>Introduza: <b>1; 40; 3; 1; 7; 2; 1; <em>ENTER</em>; 6.</b></p>
<div class="fragment"><div class="line"># Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:70) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:68) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:64) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:60) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:52) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:50)# Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:48) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:46)# Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:42) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:32) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:30) Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:28)# Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:24)# Solu√ß√£o encontrada!</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8 (g:12)</div>
<div class="line"> P1=7 P2=1 P3=2 P4=10 P5=1000000 P6=4 P7=0 P8=3 P9=100 P10=0</div>
<div class="line"> P11=0</div>
<div class="line">Puzzle 8</div>
<div class="line"> P1(Algoritmo): Branch and Bound | P2(Debug): atividade | P3(Seed): 2 | P4(Tempo): 10 | P5(Itera√ß√µes): 1000000</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): gerados | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0</div>
<div class="line"> .  1  2</div>
<div class="line"> 3  4  5</div>
<div class="line"> 6  7  8</div>
<div class="line">I1(Custo): 12 | I2(Tempo(ms)): 36 | I3(Itera√ß√µes): 6666 | I4(Expans√µes): 4110 | I5(Gera√ß√µes): 6666 |</div>
<div class="line">I6(Lower Bound): 14</div>
<div class="line">____________________________________________________________________</div>
</div><!-- fragment --><p> Vemos que primeiramente encontra a solu√ß√£o de 70 movimentos, e depois vai encontrando sucessivamente solu√ß√µes melhores at√© que termina com a solu√ß√£o de 12. Gasta nesta inst√¢ncia um n√∫mero consideravelmente superior de expans√µes e gera√ß√µes, quando comparado com o AStar.</p>
<p>Podemos agora ver outras inst√¢ncias, e executar cada um dos algoritmos para ver qual √© o melhor. No entanto seria um trabalho fastidioso.</p>
<p>N√£o o fazer, ficariamos com a informa√ß√£o da performance dos algoritmos numa s√≥ inst√¢ncia, n√£o necessariamente representativa de todas as inst√¢ncias.</p>
<p>√â para melhor medir o desempenho de algoritmos e configura√ß√µes, que existem os testes emp√≠ricos, permitindo assim comparar algoritmos e/ou configura√ß√µes num leque alargado de inst√¢ncias.</p>
<p><a class="anchor" id="puzzle8-a10"></a></p>
<h2><a class="anchor" id="autotoc_md56"></a>
A√ß√£o 10 - Testes Emp√≠ricos</h2>
<p>Vamos agora fazer testes emp√≠ricos, para comparar os algoritmos informados. As configura√ß√µes e testes no modo interativo, foram exemplificados no exemplo de teste do <a class="el" href="classTVector.html">TVector</a>.</p>
<p>Executamos o programa em linha de comando, pelo que vamos ver primeiramente todos os argumentos, com a op√ß√£o "-h".</p>
<div class="fragment"><div class="line">C:\...\TProcura\Construtiva\Teste&gt; ../../x64/Release/TProcuraConstrutiva -h</div>
<div class="line"> </div>
<div class="line">Teste TProcurasConstrutivas</div>
<div class="line">Problema:</div>
<div class="line">  1 - Aspirador</div>
<div class="line">  2 - Puzzle 8</div>
<div class="line">  3 - 8 Damas</div>
<div class="line">  4 - Parti√ß√£o</div>
<div class="line">  5 - Artificial</div>
<div class="line">Op√ß√£o: 2</div>
<div class="line">Uso: C:\...\TProcura\x64\Release\TProcuraConstrutiva.exe &lt;inst√¢ncias&gt; [op√ß√µes]</div>
<div class="line">  &lt;inst√¢ncias&gt;    Conjunto de IDs: A | A,B,C | A:B[:C]</div>
<div class="line">Op√ß√µes:</div>
<div class="line">  -R &lt;ficheiro&gt;   Nome do CSV de resultados (omiss√£o: resultados.csv)</div>
<div class="line">  -F &lt;prefixo&gt;    Prefixo dos ficheiros de inst√¢ncia (omiss√£o: instancia_)</div>
<div class="line">  -I &lt;ind&gt;        Lista de indicadores (e.g. 2,1,3)</div>
<div class="line">  -S              Mostrar solu√ß√µes durante a execu√ß√£o</div>
<div class="line">  -h              Esta ajuda</div>
<div class="line">  -P &lt;expr&gt;       Par√¢metros (e.g. P1=1:3 x P2=0:2) - √∫ltimo campo</div>
<div class="line">Exemplo: C:\...\TProcura\x64\Release\TProcuraConstrutiva.exe 1:5 -R out -F fich_ -I 3,1,4,2 -P P1=1:5 x P6=1,2</div>
<div class="line">   Executar sem argumentos entra em modo interativo, para explorar todos os parametros e indicadores</div>
<div class="line"> </div>
<div class="line">Lista de par√¢metros:</div>
<div class="line"> P1(Algoritmo): Largura Primeiro (1 a 7)</div>
<div class="line"> P2(Debug): nada (0 a 4)</div>
<div class="line"> P3(Seed): 1 (1 a 1000000)</div>
<div class="line"> P4(Tempo): 10 (1 a 3600)</div>
<div class="line"> P5(Itera√ß√µes): 0 (0 a 1000000000)</div>
<div class="line"> P6(Ver): 4 (1 a 100)</div>
<div class="line"> P7(Limite): 0 (-1 a 1000000)</div>
<div class="line"> P8(Repetidos): ascendentes (1 a 3)</div>
<div class="line"> P9(pesoAStar): 100 (0 a 10000)</div>
<div class="line"> P10(ruido): 0 (-100 a 100)</div>
<div class="line"> P11(baralhar): 0 (0 a 1)</div>
<div class="line"> </div>
<div class="line">Lista de indicadores:</div>
<div class="line"> </div>
<div class="line">I1(Custo): 1¬∫ lugar (o resultado √© o custo da solu√ß√£o atual)</div>
<div class="line">I2(Tempo(ms)): 2¬∫ lugar (Tempo em milisegundos da execu√ß√£o (medida de esfor√ßo computacional).)</div>
<div class="line">I3(Itera√ß√µes): 3¬∫ lugar (Itera√ß√µes do algoritmo, intrepretadas conforme o algoritmo (medida de esfor√ßo independente do hardware).)</div>
<div class="line">I4(Expans√µes): 4¬∫ lugar (n√∫mero de expans√µes efetuadas)</div>
<div class="line">I5(Gera√ß√µes): 5¬∫ lugar (n√∫mero de estados gerados)</div>
<div class="line">I6(Lower Bound): 6¬∫ lugar (valor m√≠nimo para a melhor solu√ß√£o, se igual ao custo da solu√ß√£o obtida, ent√£o esta √© √≥tima)</div>
</div><!-- fragment --><p>A forma como temos o programa, requer intera√ß√£o do utilizador, pelo que tivemos que escolher a op√ß√£o 2 para o Puzzle 8.</p>
<p>Pretendemos fazer um teste emp√≠rico, considerando os seguintes aspetos:</p><ul>
<li>utilizar as inst√¢ncias 1 a 100 do Puzzle 8.</li>
<li>executar os algoritmos informados, P1=4 at√© P1=7.</li>
<li>ver todos os indicadores I1 a I6</li>
</ul>
<p>Assim, podemos executar o programa com a seguinte linha de comando: </p><div class="fragment"><div class="line">C:\...\TProcura\Construtiva\Teste&gt; ../../x64/Release/TProcuraConstrutiva 1:100 -R resultadoPuzzle8 -P P1=4:7</div>
<div class="line"> </div>
<div class="line">Teste TProcurasConstrutivas</div>
<div class="line">Problema:</div>
<div class="line">  1 - Aspirador</div>
<div class="line">  2 - Puzzle 8</div>
<div class="line">  3 - 8 Damas</div>
<div class="line">  4 - Parti√ß√£o</div>
<div class="line">  5 - Artificial</div>
<div class="line">Op√ß√£o: 2</div>
<div class="line">...</div>
<div class="line">Ficheiro resultadoPuzzle8.csv gravado.</div>
</div><!-- fragment --><p>O ficheiro de resultados foi gravado, e podemos agora confirmar que:</p><ul>
<li>o Melhor Primeiro nem sempre retorna a solu√ß√£o √≥tima e os restantes 3 algoritmos informados retornam sempre a solu√ß√£o √≥tima;</li>
<li>identificar quais os algoritmos mais eficientes em termos de esfor√ßo computacional, medido pelo tempo CPU e n√∫mero de expans√µes;</li>
</ul>
<p>Com o relat√≥rio din√¢mico, destaque o m√©todo P1 nas colunas, e indicadores no conte√∫do, com os valores nas linhas:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Valores   </th><th class="markdownTableHeadRight">4:Melhor Primeiro   </th><th class="markdownTableHeadRight">5:A*   </th><th class="markdownTableHeadRight">6:IDA*   </th><th class="markdownTableHeadRight">7:Branch and Bound    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Soma de I1(Custo)   </td><td class="markdownTableBodyRight">21554   </td><td class="markdownTableBodyRight">690   </td><td class="markdownTableBodyRight">690   </td><td class="markdownTableBodyRight">690    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Soma de I2(Tempo(ms))   </td><td class="markdownTableBodyRight">68   </td><td class="markdownTableBodyRight">2   </td><td class="markdownTableBodyRight">2   </td><td class="markdownTableBodyRight">13517    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Soma de I4(Expans√µes)   </td><td class="markdownTableBodyRight">21721   </td><td class="markdownTableBodyRight">1858   </td><td class="markdownTableBodyRight">2693   </td><td class="markdownTableBodyRight">4460077   </td></tr>
</table>
<p>Pode confirmar que apenas a coluna do Melhor Primeiro apresenta valores a cima do √≥ptimo, respondendo √† primeira quest√£o.</p>
<p>Para a segunda quest√£o, podemos confirmar que para este problema e estas inst√¢ncias, o AStar e IDAStar s√£o os mais eficientes, seguindo-se o Melhor Primeiro (embora sem o √≥timo) e depois o Branch-and-bound.</p>
<p>Estas inst√¢ncias tinham ainda muitos poucos movimentos aleat√≥rios. Vamos repetir o teste com as inst√¢ncias de 900 a 999, tendo o cuidado de alterar o nome do ficheiro de resultados.</p>
<div class="fragment"><div class="line">C:\...\TProcura\Construtiva\Teste&gt; ../../x64/Release/TProcuraConstrutiva 900:999 -R resultadoPuzzle8b -P P1=4:7</div>
<div class="line">...</div>
<div class="line">Ficheiro resultadoPuzzle8b.csv gravado.</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Valores   </th><th class="markdownTableHeadRight">4:Melhor Primeiro   </th><th class="markdownTableHeadRight">5:A*   </th><th class="markdownTableHeadRight">6:IDA*   </th><th class="markdownTableHeadRight">7:Branch and Bound    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">M√°ximo de I1(Custo)   </td><td class="markdownTableBodyRight">470   </td><td class="markdownTableBodyRight">27   </td><td class="markdownTableBodyRight">27   </td><td class="markdownTableBodyRight">27    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Soma de I1(Custo)   </td><td class="markdownTableBodyRight">21512   </td><td class="markdownTableBodyRight">2430   </td><td class="markdownTableBodyRight">2430   </td><td class="markdownTableBodyRight">2430    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Soma de I2(Tempo(ms))   </td><td class="markdownTableBodyRight">62   </td><td class="markdownTableBodyRight">157   </td><td class="markdownTableBodyRight">181   </td><td class="markdownTableBodyRight">8874    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Soma de I4(Expans√µes)   </td><td class="markdownTableBodyRight">21646   </td><td class="markdownTableBodyRight">150389   </td><td class="markdownTableBodyRight">189373   </td><td class="markdownTableBodyRight">4464967   </td></tr>
</table>
<p>Podemos ver que estas inst√¢ncias j√° t√™m mais de 20 movimentos at√© ao objetivo. Observamos agora que o Melhor Primeiro √© o mais eficientes, seguido do AStar e IDAStar e por √∫ltimo o Branch-and-Bound. A heur√≠stica √© boa, mas n√£o para acertar numa boa solu√ß√£o √° primeira, e por esse motivo o Melhor Primeiro e o Branch-and-Bound s√£o mais penalizados. O custo da inst√¢ncia mais dif√≠cil √© 470 para o Melhor Primeiro, e 27 para os restantes algoritmos, o que revela a dist√¢ncia a que o Melhor Primeiro pode ficar do √≥timo.</p>
<p>| <a href="teste_tvector.html">TesteTVector</a> | <a href="teste_aspirador1.html">Aspirador 1</a> | <a href="teste_aspirador2.html">Aspirador 2</a> | <a href="teste_puzzle8.html">Puzzle 8</a> | <a href="teste_8damas.html">8 Damas</a> | <a href="teste_particao.html">Parti√ß√£o</a> | <a href="teste_artificial.html">Artificial</a> | </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
