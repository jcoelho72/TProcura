<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TProcura: ‚úèÔ∏è Puzzle 8, BnB</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TProcura
   </div>
   <div id="projectbrief">Biblioteca em C++ para testes param√©tricos de algoritmos, e cole√ß√£o de algoritmos de procura e otimiza√ß√£o</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('tutorial_puzzle8bnb.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">‚úèÔ∏è Puzzle 8, BnB</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p> 

<div style="padding:12px; border:1px solid #444; border-radius:6px; background:#222; margin:20px 0; color:#ddd;">
  <div style="font-size:12px; opacity:0.8; margin-bottom:6px;">
    <a href="tutorial_construtivas.html" style="color:#9cf; text-decoration:none;">Tutorial: Procuras Construtivas</a>
  </div>
  <div style="display:flex; flex-wrap:wrap; gap:12px; justify-content:center;">
    <span style="opacity:0.7;">Algoritmos Cegos ‚Ä∫</span>
    <a href="tutorial_construtivaslit.html" style="color:#9cf;">üìñ Leitura</a>
    <a href="tutorial_construtivas3a.html" style="color:#9cf;">üëì Procura Cega</a>
    <a href="tutorial_construtivas3b.html" style="color:#9cf;">üëì Algoritmos</a>
    <span style="opacity:0.7;">Aspirador ‚Ä∫</span>
    <a href="teste_aspirador1.html" style="color:#9cf;">üíª Parte 1</a>
    <a href="teste_aspirador2.html" style="color:#9cf;">üíª Parte 2</a>
    <span style="opacity:0.7;">Puzzle 8 ‚Ä∫</span>
    <a href="tutorial_puzzle8prof.html" style="color:#9cf;">‚úèÔ∏è Profundidade</a>
    <a href="tutorial_puzzle8iterativa.html" style="color:#9cf;">‚úèÔ∏è Iterativa</a>
    <a href="tutorial_puzzle8largura.html" style="color:#9cf;">‚úèÔ∏è Largura</a>
    <a href="teste_puzzle8.html" style="color:#9cf;">üíª Testar</a>
    <span style="opacity:0.7;">Parti√ß√£o ‚Ä∫</span>
    <a href="tutorial_particaoprof.html" style="color:#9cf;">‚úèÔ∏è Profundidade</a>
    <a href="tutorial_particaolargura.html" style="color:#9cf;">‚úèÔ∏è Largura</a>
    <a href="teste_particao.html" style="color:#9cf;">üíª Testar</a>
    <span style="opacity:0.7;">Damas ‚Ä∫</span>
    <a href="tutorial_4damasprof.html" style="color:#9cf;">‚úèÔ∏è Profundidade</a>
    <a href="tutorial_4damaslargura.html" style="color:#9cf;">‚úèÔ∏è Largura</a>
    <a href="teste_8damas.html" style="color:#9cf;">üíª Testar</a>
    <span style="opacity:0.7;">Algoritmos Informados ‚Ä∫</span>
    <a href="tutorial_construtivaslit2.html" style="color:#9cf;">üìñ Leitura</a>
    <a href="tutorial_construtivas4a.html" style="color:#9cf;">üëì Procura Informada</a>
    <span style="opacity:0.7;">Puzzle 8 ‚Ä∫</span>
    <a href="tutorial_puzzle8melhor.html" style="color:#9cf;">‚úèÔ∏è Melhor Primeiro</a>
    <a href="tutorial_puzzle8astar.html" style="color:#9cf;">‚úèÔ∏è A-star</a>
    <span style="font-weight:bold; text-decoration:underline; color:#fff;">‚úèÔ∏è BnB</span>
    <a href="teste_puzzle8b.html" style="color:#9cf;">üíª Testar</a>
  </div>
</div>

  

<p>Vamos agora manter o mesmo estado, e utilizar o Branch-and-Bound em vez do
  A-Start:</p>
<p></p>
<table border="1" cellspacing="1" cellpadding="1">
  <tbody>
    <tr>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">2</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">6</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">8</td>
              <td style="text-align: center;" valign="top">¬†</td>
            </tr>
          </tbody>
        </table>
      </td>
      <td style="text-align: center;" valign="top" width="14%">esquerda</td>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">2</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">6</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">¬†</td>
              <td style="text-align: center;" valign="top">8</td>
            </tr>
          </tbody>
        </table>
      </td>
      <td style="text-align: center;" valign="top" width="14%">cima</td>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">2</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">¬†</td>
              <td style="text-align: center;" valign="top">6</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">8</td>
            </tr>
          </tbody>
        </table>
      </td>
      <td style="text-align: center;" valign="top" width="14%">direita</td>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">2</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">6</td>
              <td style="text-align: center;" valign="top">¬†</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">8</td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
    <tr>
      <td style="text-align: center;" valign="top" width="14%">cima</td>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">2</td>
              <td style="text-align: center;" valign="top">¬†</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">6</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">8</td>
            </tr>
          </tbody>
        </table>
      </td>
      <td style="text-align: center;" valign="top" width="14%">esquerda</td>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">¬†</td>
              <td style="text-align: center;" valign="top">2</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">6</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">8</td>
            </tr>
          </tbody>
        </table>
      </td>
      <td style="text-align: center;" valign="top" width="14%">baixo</td>
      <td valign="top" width="14%">
        <table border="3" width="100" cellspacing="3" cellpadding="3"
          align="middle">
          <tbody>
            <tr>
              <td style="text-align: center;" valign="top">1</td>
              <td style="text-align: center;" valign="top">6</td>
              <td style="text-align: center;" valign="top">2</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">4</td>
              <td style="text-align: center;" valign="top">¬†</td>
              <td style="text-align: center;" valign="top">3</td>
            </tr>
            <tr>
              <td style="text-align: center;" valign="top">7</td>
              <td style="text-align: center;" valign="top">5</td>
              <td style="text-align: center;" valign="top">8</td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
  </tbody>
</table>
<p></p>
<p></p>
<p style="margin-right: 0px;" dir="ltr">A <strong>procura Branch-and-Bound
    (BnB)</strong>¬†√© uma procura aparentada com o melhor primeiro. No entanto, o
  melhor primeiro suspende a procura ap√≥s encontrar a primeira solu√ß√£o. O BnB
  continua mas limitando a procura ao espa√ßo de solu√ß√µes que pode de facto
  melhorar a melhor solu√ß√£o encontrada. O valor da melhor solu√ß√£o encontrada √© o
  Upper-Bound (UB), um limite m√°ximo. O valor da heur√≠stica mais o custo num
  dado n√≥ da √°rvore de procura, √© o Lower Bound (LB), um limite m√≠nimo.</p>
<p style="margin-right: 0px;" dir="ltr">A procura √© cortada sempre que o LB √©
  maior ou igual ao UB. Da√≠ para baixo, sabemos que nunca encontraremos uma
  solu√ß√£o que melhore a que j√° temos, pelo que podemos corta a √°rvore de
  procura.</p>
<p style="margin-right: 0px;" dir="ltr">O nome do algoritmo deve-se √†s duas
  principais a√ß√µes. O branch, √© a ramifica√ß√£o ou gera√ß√£o de sucessores. De um
  estado s√£o gerados os estados poss√≠veis. Sem esta opera√ß√£o n√£o seria poss√≠vel
  explorar o espa√ßo de estados. O bound √© a opera√ß√£o de teste, verificar se
  LB&gt;=UB, de modo a cortar a √°rvore de procura sempre que poss√≠vel.</p>
<p style="margin-right: 0px;" dir="ltr">O primeiro valor do UB dever√° ser
  infinito, de modo a retornar a solu√ß√£o √≥tima. No entanto vers√µes iterativas
  s√£o poss√≠veis. Caso se utilize um UB fict√≠cio K, se a √°rvore for completamente
  explorada sem encontrar uma √∫nica solu√ß√£o, ent√£o temos um LB=K+1. Caso se
  encontre uma solu√ß√£o, ent√£o a solu√ß√£o retornada ser√° sempre √≥tima. Caso o
  algoritmo seja interrompido, se j√° encontrou uma solu√ß√£o, ser√° um UB, mas sem
  garantia de otimalidade.</p>
<p style="margin-right: 0px;" dir="ltr">A vantagem deste algoritmo sobre o A* √©
  a mem√≥ria. Como procura em profundidade que √©, n√£o necessita de um grande
  volume de estados abertos n√£o expandidos. No entanto a complexidade temporal √©
  igual ao A*. O A* ao ser interrompido, podemos utilizar a menor heur√≠stica
  mais custo, como LB da inst√¢ncia, enquanto que se o BnB for interrompido,
  podemos utilizar o UB atual como um UB da inst√¢ncia.</p>
<p style="margin-right: 0px;" dir="ltr">Como temos um UB global, o passo a passo
  via tabela torna-se ainda mais complexo de perceber, pelo que deixa-se apenas
  a vers√£o do ficheiro de Excel:</p>
<p style="margin-right: 0px;" dir="ltr">Ficheiro de Excel, passo a passo:</p>
<p><iframe
    src="https://onedrive.live.com/embed?resid=CB9D74B9743B54E1%21339649&amp;authkey=%21AG6tMTg7iMRde-4&amp;em=2&amp;wdAllowInteractivity=False&amp;ActiveCell='exp0'!A1&amp;wdHideGridlines=True&amp;wdHideHeaders=True&amp;wdDownloadButton=True&amp;wdInConfigurator=True&amp;wdInConfigurator=True"
    width="1700" height="600" frameborder="0" scrolling="no"></iframe></p>
<p style="margin-right: 0px;" dir="ltr">Neste exemplo, utilizamos um UB inicial
  de 10. Este valor √© importante em problemas como o puzzle 8, em que n√£o h√°
  limite de profundidade. O BnB antes de encontrar uma primeira solu√ß√£o, poderia
  perder-se. Ao indicarmos que apenas estamos interessados em solu√ß√µes de 9 ou
  inferior, esse problema √© resolvido.</p>
<p style="margin-right: 0px;" dir="ltr">Ap√≥s a primeira expans√£o, h√° 4 estados.
  Mas apenas 2 t√™m o LB menor, igual a 5. Como o BnB √© uma procura em
  profundidade, expandimos o √∫ltimo com menor LB, de entre os estados com o
  mesmo pai.</p>
<p style="margin-right: 0px;" dir="ltr">Na expans√£o 4, s√£o gerados os¬†<span
    style="font-size: calc(0.90375rem + 0.045vw);">estados 9 e 10. Esses estados
    s√£o cortados dado que o LB=10 e o UB=10. Assim, continuando a explorar esses
    n√≥s, nunca se poderia atingir uma solu√ß√£o com UB menor que 10, pelo que se
    corta esse ramo.</span></p>
<p style="margin-right: 0px;" dir="ltr"><span
    style="font-size: calc(0.90375rem + 0.045vw);">A procura retrocede para o
    n√≠vel anterior, dado que n√£o h√° mais sucessores, expandido o estado 6.
    Ocorre o corte novamente.</span></p>
<p style="margin-right: 0px;" dir="ltr"><span
    style="font-size: calc(0.90375rem + 0.045vw);">A procura retrocede, mas para
    um ponto em que h√° ainda 3 estados por expandir. Assim, expandimos o estado
    2 que √© o outro estado com menor LB. Notar que o LB se fosse perfeito, no
    estado 5 teria de dar um valor 10 ou superior, dado que esse estado foi
    explorado e n√£o foi encontrada uma solu√ß√£o com UB=10. Um bom LB influencia
    grandemente a performance deste algoritmo. Mesmo este LB n√£o sendo perfeito,
    evita continuar pelos estados 3 e 4 que t√™m logo um LB superior a 6, que
    sabemos ser o valor √≥timo.</span></p>
<p style="margin-right: 0px;" dir="ltr"><span
    style="font-size: calc(0.90375rem + 0.045vw);">A partir deste ponto, o LB
    acerta sempre, guiando a procura para a solu√ß√£o √≥tima, obtida na expans√£o
    10. No entanto, se o algoritmo for interrompido na expans√£o 10, n√£o sabemos
    que a solu√ß√£o √© √≥tima. Temos de explorar os estados gerados n√£o
    expandidos.</span></p>
<p style="margin-right: 0px;" dir="ltr"><span
    style="font-size: calc(0.90375rem + 0.045vw);">Na expans√£o 11 procura-se
    expandir todos os estados pendentes, mas com o novo UB, s√£o todos cortados.
    Com o UB=10 n√£o seriam cortados, mas com a nova informa√ß√£o √© poss√≠vel assim
    cortar rapidamente a √°rvore. √â portanto importante que sejam explorados
    primeiro os estados melhores, e se encontre rapidamente uma boa solu√ß√£o,
    para se poder cortar mais a √°rvore de procura. Novamente, um bom LB pode
    contribuir para que tal ocorra.</span></p>
<hr>
<details>
<summary><strong>‚ö°¬†A√ß√£o:</strong>¬†Explorar
  o ficheiro de Excel, procurando reproduzir o BnB com outra inst√¢ncia de 4
  movimentos aleat√≥rios. Apresente o resultado no f√≥rum.¬†</summary>

<p><strong>Resposta</strong>: pergunta aberta. Colocar a resposta no f√≥rum de
  modo a validar com a equipa docente e colegas.</p>

</details>

</p>
<p> 

<div style="margin:30px 0; display:flex; justify-content:space-between;">
  <a href="tutorial_puzzle8astar.html" style="padding:6px 12px; background:#222; border:1px solid #444; border-radius:4px; color:#9cf;">
     ‚óÄ Passo anterior </a>
  <a href="teste_puzzle8b.html" style="padding:6px 12px; background:#222; border:1px solid #444; border-radius:4px; color:#9cf;">
     Pr√≥ximo passo ‚ñ∂ </a>
</div>

 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
