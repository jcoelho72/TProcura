<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TProcura: Teste Jogo Em Linha</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TProcura
   </div>
   <div id="projectbrief">Biblioteca em C++ para testes paramétricos de algoritmos, e coleção de algoritmos de procura e otimização</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('teste_jogo_em_linha.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Teste Jogo Em Linha</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Execução de exemplo com base no problema do Jogo Em Linha, uma generalização do Jogo do Galo. Pode acompanhar o teste executando as ações localmente.</p>
<p>No Visual Studio, selecione o projeto <a class="el" href="classTProcuraAdversa.html" title="Representa um estado no espaço de estados.">TProcuraAdversa</a>, e execute. No Linux na pasta <code>.../TProcura/Adversa/Teste$</code> execute <code>make</code> seguido de <code>./bin/Release/TProcuraAdversa</code></p>
<p>Nota: ao executar no terminal, os parâmetros, indicadores e outros elementos, aparecem com realce de cor para facilitar a leitura.</p>
<h2><a class="anchor" id="autotoc_md63"></a>
Sumário</h2>
<ul>
<li><a class="el" href="teste_jogo_em_linha.html#jel-a1">Ação 1 - Ver instâncias</a></li>
<li><a class="el" href="teste_jogo_em_linha.html#jel-a2">Ação 2 - Heurística</a></li>
<li><a class="el" href="teste_jogo_em_linha.html#jel-a3">Ação 3 - Torneio Profundidade</a></li>
<li><a class="el" href="teste_jogo_em_linha.html#jel-a4">Ação 4 - Torneio Iterativo</a></li>
<li><a class="el" href="teste_jogo_em_linha.html#jel-a5">Ação 5 - Torneio Ruido</a></li>
<li><a class="el" href="teste_jogo_em_linha.html#jel-a6">Ação 6 - Torneio Poda</a></li>
</ul>
<div class="fragment"><div class="line">Teste TProcuraAdversa</div>
<div class="line">Problema:</div>
<div class="line">  1 - Jogo do Galo</div>
<div class="line">  2 - Jogo Em Linha</div>
<div class="line">Opção: 2</div>
</div><!-- fragment --><p>Este jogo tem várias instâncias, com as dimensões e tamanho da linha para ganhar. Existe ainda a variante em que as peças caem pela ação da gravidade.</p>
<p><a class="anchor" id="jel-a1"></a></p>
<h2><a class="anchor" id="autotoc_md64"></a>
Ação 1 - Ver instâncias</h2>
<p>Vamos entrar no Jogo Em Linha, introduza: <b>2.</b></p>
<div class="fragment"><div class="line">Jogo Em Linha</div>
<div class="line"> P1(Algoritmo): MiniMax alfa/beta | P2(Debug): nada | P3(Seed): 1 | P4(Tempo): 10 | P5(Iterações): 0</div>
<div class="line"> P6(Ver): 4 | P7(Limite): 0 | P8(Repetidos): ignorar | P9(pesoAStar): 100 | P10(ruido): 0</div>
<div class="line"> P11(baralhar): 0 | P12(Ordenar): 2 | P13(PodaHeuristica): 0 | P14(PodaCega): 0</div>
<div class="line">3 em Linha (3x3)</div>
<div class="line">   A B C</div>
<div class="line"> 1 . . . 1</div>
<div class="line"> 2 . . . 2</div>
<div class="line"> 3 . . . 3</div>
<div class="line">   A B C</div>
<div class="line">____________________________________________________________________</div>
<div class="line">| 1 - Inicializar | 2 - Explorar | 3 - Parâmetros    | 4 - Solução |</div>
<div class="line">| 5 - Indicadores | 6 - Executar | 7 - Configurações | 8 - Teste   |</div>
</div><!-- fragment --><p>O primeiro jogo é o Jogo do Galo, em que se tem de fazer 3 em linha, num tabuleiro de 3x3. Vamos ver outras instâncias.</p>
<p>Introduza:</p><ul>
<li><b>1; 2.</b> jogo 4 em Linha (4x4)</li>
<li><b>1; 3.</b> jogo 4 em Linha (6x4)</li>
<li><b>1; 4.</b> jogo 4 em Linha (7x6) gravidade</li>
<li><b>1; 5.</b> jogo 4 em Linha (14x6) gravidade</li>
<li><b>1; 6.</b> jogo 5 em Linha (8x8)</li>
<li><b>1; 7.</b> jogo 5 em Linha (12x8)</li>
<li><b>1; 8.</b> jogo 5 em Linha (9x9)</li>
<li><b>1; 9.</b> jogo 6 em Linha (11x9)</li>
<li><b>1; 10.</b> jogo 6 em Linha (12x12)</li>
</ul>
<div class="fragment"><div class="line">4 em Linha (4x4)</div>
<div class="line">   A B C D</div>
<div class="line"> 1 . . . . 1</div>
<div class="line"> 2 . . . . 2</div>
<div class="line"> 3 . . . . 3</div>
<div class="line"> 4 . . . . 4</div>
<div class="line">   A B C D</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">4 em Linha (6x4)</div>
<div class="line">   A B C D E F</div>
<div class="line"> 1 . . . . . . 1</div>
<div class="line"> 2 . . . . . . 2</div>
<div class="line"> 3 . . . . . . 3</div>
<div class="line"> 4 . . . . . . 4</div>
<div class="line">   A B C D E F</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">4 em Linha (7x6) gravidade</div>
<div class="line">   A B C D E F G</div>
<div class="line"> 1 . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . 6</div>
<div class="line">   A B C D E F G</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">4 em Linha (14x6) gravidade</div>
<div class="line">   A B C D E F G H I J K L M N</div>
<div class="line"> 1 . . . . . . . . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . . . . . . . . 6</div>
<div class="line">   A B C D E F G H I J K L M N</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">5 em Linha (8x8)</div>
<div class="line">   A B C D E F G H</div>
<div class="line"> 1 . . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . . 6</div>
<div class="line"> 7 . . . . . . . . 7</div>
<div class="line"> 8 . . . . . . . . 8</div>
<div class="line">   A B C D E F G H</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">5 em Linha (12x8)</div>
<div class="line">   A B C D E F G H I J K L</div>
<div class="line"> 1 . . . . . . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . . . . . . 6</div>
<div class="line"> 7 . . . . . . . . . . . . 7</div>
<div class="line"> 8 . . . . . . . . . . . . 8</div>
<div class="line">   A B C D E F G H I J K L</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">5 em Linha (9x9)</div>
<div class="line">   A B C D E F G H I</div>
<div class="line"> 1 . . . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . . . 6</div>
<div class="line"> 7 . . . . . . . . . 7</div>
<div class="line"> 8 . . . . . . . . . 8</div>
<div class="line"> 9 . . . . . . . . . 9</div>
<div class="line">   A B C D E F G H I</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">6 em Linha (11x9)</div>
<div class="line">   A B C D E F G H I J K</div>
<div class="line"> 1 . . . . . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . . . . . 6</div>
<div class="line"> 7 . . . . . . . . . . . 7</div>
<div class="line"> 8 . . . . . . . . . . . 8</div>
<div class="line"> 9 . . . . . . . . . . . 9</div>
<div class="line">   A B C D E F G H I J K</div>
<div class="line">_______________________________________________________________________________</div>
<div class="line">6 em Linha (12x12)</div>
<div class="line">   A B C D E F G H I J K L</div>
<div class="line"> 1 . . . . . . . . . . . . 1</div>
<div class="line"> 2 . . . . . . . . . . . . 2</div>
<div class="line"> 3 . . . . . . . . . . . . 3</div>
<div class="line"> 4 . . . . . . . . . . . . 4</div>
<div class="line"> 5 . . . . . . . . . . . . 5</div>
<div class="line"> 6 . . . . . . . . . . . . 6</div>
<div class="line"> 7 . . . . . . . . . . . . 7</div>
<div class="line"> 8 . . . . . . . . . . . . 8</div>
<div class="line"> 9 . . . . . . . . . . . . 9</div>
<div class="line">10 . . . . . . . . . . . . 10</div>
<div class="line">11 . . . . . . . . . . . . 11</div>
<div class="line">12 . . . . . . . . . . . . 12</div>
<div class="line">   A B C D E F G H I J K L</div>
<div class="line">_______________________________________________________________________________</div>
</div><!-- fragment --><p>Temos diferentes tabuleiros, resultando em ramificações distintas. A variante da gravidade, reduz consideravelmente a ramificação.</p>
<p><a class="anchor" id="jel-a2"></a></p>
<h2><a class="anchor" id="autotoc_md65"></a>
Ação 2 - Heurística</h2>
<p>Vamos começar por verificar se a heurística implementada, tem atenção a aspetos mínimos, como bloquear ameaças de vitória a uma jogada.</p>
<p>Para tal vamos fazer um jogo com profundidade 1, para que a heurística seja o fator predominante.</p>
<p>Introduza:</p><ul>
<li><b>1; 2; 3; 7; 2; <em>ENTER</em>; 6.</b> executa um lance, fica com 3 ameaças a 3 jogadas</li>
<li><b>6.</b> responde anulando uma das ameaças, e faz 2 ameaças a 3 jogadas</li>
<li><b>6.</b> uma das ameaças passa a 2 jogadas</li>
<li><b>6; 6; 6; ....</b> termine o jogo, verificando que todas as ameaças são resondidas</li>
</ul>
<div class="fragment"><div class="line">4 em Linha (4x4)</div>
<div class="line">   A B C D</div>
<div class="line"> 1 . . . . 1</div>
<div class="line"> 2 . . . . 2</div>
<div class="line"> 3 . . . . 3</div>
<div class="line"> 4 x . . . 4</div>
<div class="line">   A B C D</div>
<div class="line">4 em Linha (4x4)</div>
<div class="line">   A B C D</div>
<div class="line"> 1 o . . . 1</div>
<div class="line"> 2 . . . . 2</div>
<div class="line"> 3 . . . . 3</div>
<div class="line"> 4 x . . . 4</div>
<div class="line">   A B C D</div>
<div class="line">4 em Linha (4x4)</div>
<div class="line">   A B C D</div>
<div class="line"> 1 o . . . 1</div>
<div class="line"> 2 . . . . 2</div>
<div class="line"> 3 . x . . 3</div>
<div class="line"> 4 x . . . 4</div>
<div class="line">   A B C D</div>
</div><!-- fragment --><p>Este teste é importante para despistar algum erro na heurística.</p>
<p>Podemos fazer o mesmo para um tabuleiro maior. Introduza: <b>1; 10; 6.</b> O lance inicial vai para o meio do tabuleiro, onde há mais ameaças em simultâneo, ou seja, vai para a jogada que maximiza o valor da heurística. Execute também um jogo, verificando que as ameaças vão sendo respondidas: <b>6; 6; ...</b></p>
<p>Se conseguir chegar ao final, verifica que há empate:</p>
<div class="fragment"><div class="line">6 em Linha (12x12)</div>
<div class="line">   A B C D E F G H I J K L</div>
<div class="line"> 1 o o o o x o o o o x x o 1</div>
<div class="line"> 2 o x x x o o o x x o x x 2</div>
<div class="line"> 3 x x x o x x x x o o o o 3</div>
<div class="line"> 4 o o o x o o o o x x o x 4</div>
<div class="line"> 5 x o x x o x x x o o x x 5</div>
<div class="line"> 6 x x o o x o o o x x o o 6</div>
<div class="line"> 7 x o x o o x x x o o o o 7</div>
<div class="line"> 8 o x o x x x o o o x x o 8</div>
<div class="line"> 9 o x o o x x x o x o x x 9</div>
<div class="line">10 x x x x o o x x x x o o 10</div>
<div class="line">11 x o o x o o x o o o x x 11</div>
<div class="line">12 x o x o x o x x x x o o 12</div>
<div class="line">   A B C D E F G H I J K L</div>
</div><!-- fragment --><p>Não temos portanto motivo para não considerar a heurística válida. Deixamos de forma a variante da gravidade, já que esta heurística foi feita com base na variante regular.</p>
<p><a class="anchor" id="jel-a3"></a></p>
<h2><a class="anchor" id="autotoc_md66"></a>
Ação 3 - Torneio Profundidade</h2>
<p>Nos testes empíricos vamos utilizar a linha de comando, por ser mais simples a identificação do teste a realizar.</p>
<p>Pretendemos verificar num torneio, que a profundidade maior resulta em força de jogo superior. Assim, como temos muitos jogos, vamos fazer apenas duas profundidades, nível 1 e 2, mas com várias opções.</p>
<p>Pretendemos também comparar:</p><ul>
<li>MiniMax alfa/beta vs MiniMax</li>
<li>Com / sem ordenação</li>
</ul>
<p>Vamos utilizar todas as instâncias, já que a heurística é igual.</p>
<div class="fragment"><div class="line">PS ...\Teste&gt; TProcuraAdversa 1:10 -R resultadoEmLinha -P P1=1,2 x P12=0,1 x P7=2,3</div>
<div class="line">...</div>
<div class="line">Opção: 2</div>
<div class="line">...</div>
<div class="line">Ficheiro resultadoEmLinha.csv gravado.</div>
</div><!-- fragment --><p>Podemos com os resultados fazer um relatório dinâmico em que soma todos os resultados e separa por cada indicador em estudo:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Rótulos de Linha   </th><th class="markdownTableHeadCenter">Ordenar 0   </th><th class="markdownTableHeadCenter">Ordenar 1   </th><th class="markdownTableHeadCenter">Total Geral    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Nível 2   </td><td class="markdownTableBodyCenter">-36   </td><td class="markdownTableBodyCenter">-36   </td><td class="markdownTableBodyCenter">-72    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">-18   </td><td class="markdownTableBodyCenter">-18   </td><td class="markdownTableBodyCenter">-36    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">-18   </td><td class="markdownTableBodyCenter">-18   </td><td class="markdownTableBodyCenter">-36    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">Nível 3   </td><td class="markdownTableBodyCenter">40   </td><td class="markdownTableBodyCenter">32   </td><td class="markdownTableBodyCenter">72    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">20   </td><td class="markdownTableBodyCenter">16   </td><td class="markdownTableBodyCenter">36    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">20   </td><td class="markdownTableBodyCenter">16   </td><td class="markdownTableBodyCenter">36    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">Total Geral   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">-4   </td><td class="markdownTableBodyCenter">0   </td></tr>
</table>
<p>A grande diferença foi a profundidade, em que o valor 3 (corresponde ao nível 2), foi claramente superior ao valor 2 (correspondente ao nível 1). Significa que a heurística faz sentido, já que adicionando mais profundidade aumenta a força de jogo. A diferença entre cortes alfa/beta e sem cortes, não é observável aqui. O nível de profundidade é curto, pelo que é normal. A ordenação aparenta até a dar um impacto ligeiramente negativo.</p>
<p>A tabela de torneio é a seguinte:</p>
<p>| Rótulos de Linha | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | Total Geral | |:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:| | 0 | 2 | 2 | 2 | -2 | -2 | -3 | -3 | -4 | | 1 | 2 | 2 | 2 | -2 | -2 | -3 | -3 | -4 | | 2 | 2 | 2 | 2 | -2 | -2 | -3 | -3 | -4 | | 3 | 2 | 2 | 2 | -2 | -2 | -3 | -3 | -4 | | 4 | 2 | 2 | 2 | 2 | 2 | 0 | 0 | 10 | | 5 | 2 | 2 | 2 | 2 | 2 | 0 | 0 | 10 | | 6 | 2 | 2 | 2 | 2 | -2 | -2 | 0 | 4 | | 7 | 2 | 2 | 2 | 2 | -2 | -2 | 0 | 4 | | Total Geral | 14 | 14 | 14 | 14 | -10 | -10 | -12 | -12 | 12 |</p>
<p>As configurações de cada jogador:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Jogador   </th><th class="markdownTableHeadCenter">P1(Algoritmo)   </th><th class="markdownTableHeadCenter">P2(Debug)   </th><th class="markdownTableHeadCenter">P3(Seed)   </th><th class="markdownTableHeadCenter">P4(Tempo)   </th><th class="markdownTableHeadCenter">P5(Iterações)   </th><th class="markdownTableHeadCenter">P6(Ver)   </th><th class="markdownTableHeadCenter">P7(Limite)   </th><th class="markdownTableHeadCenter">P8(Repetidos)   </th><th class="markdownTableHeadCenter">P9(pesoAStar)   </th><th class="markdownTableHeadCenter">P10(ruido)   </th><th class="markdownTableHeadCenter">P11(baralhar)   </th><th class="markdownTableHeadCenter">P12(Ordenar)   </th><th class="markdownTableHeadCenter">P13(PodaHeuristica)   </th><th class="markdownTableHeadCenter">P14(PodaCega)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">6   </td><td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">7   </td><td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">0:nada   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1:ignorar   </td><td class="markdownTableBodyCenter">100   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td></tr>
</table>
<p>Podemos ver uma tabela de resultados de cada jogador, com os parâmetros que variam:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">P1(Algoritmo)   </th><th class="markdownTableHeadCenter">P7(Limite)   </th><th class="markdownTableHeadCenter">P12(Ordenar)   </th><th class="markdownTableHeadCenter">Rótulos de Linha   </th><th class="markdownTableHeadCenter">Brancas   </th><th class="markdownTableHeadCenter">Pretas   </th><th class="markdownTableHeadCenter">Total Geral    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">-4   </td><td class="markdownTableBodyCenter">-14   </td><td class="markdownTableBodyCenter">-18    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-4   </td><td class="markdownTableBodyCenter">-14   </td><td class="markdownTableBodyCenter">-18    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">-4   </td><td class="markdownTableBodyCenter">-14   </td><td class="markdownTableBodyCenter">-18    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">-4   </td><td class="markdownTableBodyCenter">-14   </td><td class="markdownTableBodyCenter">-18    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">20    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">10   </td><td class="markdownTableBodyCenter">20    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">6   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">12   </td><td class="markdownTableBodyCenter">16    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">7   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">12   </td><td class="markdownTableBodyCenter">16   </td></tr>
</table>
<p>| Total Geral | | | 12 | -12 | 0 |</p>
<p>O jogador 4 e 5, com o nível máximo no teste e sem ordenar, aparenta ser superior. Como a profundidade é fixa, é natural que os cortes alfa/beta e ordenação não alterem o resultado de forma significativa. Reduzem o tempo, mas não alteram o resultado.</p>
<p><a class="anchor" id="jel-a4"></a></p>
<h2><a class="anchor" id="autotoc_md67"></a>
Ação 4 - Torneio Iterativo</h2>
<p>Na ação anterior, após confirmação que quanto maior a profundidade melhor, podemos comparar procuras com a mesma profundidade, mas diferentes opções.</p>
<p>Sabemos que o corte alfa/beta é benéfico neste jogos, bem como a ordenação dos sucessores, porque reduz o tempo, mantendo a árvore de procura com a mesma qualidade.</p>
<p>Em termos práticos, o tempo é um fator restritivo, e ideal para poder comparar algoritmos. Tendo tempo igual, pretende-se saber qual o mais forte. Os métodos da ação 3 não têm paragem por tempo, tem de se definir a profundidade máxima.</p>
<p>O método iterativo faz procuras com a profundidade iterativamente a ser aumentada. Esta estratégia tem a vantagem de ter sempre um movemento pronto a jogar quando o tempo acaba. Por outro lado, utiliza o tempo existente, se der para explorar mais um nível, esse é explorado.</p>
<p>Vamos nesta ação, com o torneio iterativo, comparar métodos em que se dá a todos o mesmo tempo para jogar.</p>
<p>Temos mais uma opção na ordennação, que é o valor 2 (omissão). Este valor, para além de ordenar os sucessores, guarda em memória cada estado, e resultado de análises anteriores. Quando o estado ocorre novamnete, se estiver em memória, o seu valor é utilizado em vez de ser executada a heurítica ou uma procura e determinada profundidade. Para tal é guardada alguma informação sobre o estado de modo a sabermos se podemos utilizar o valor assim que exista possibilidade de reutilização. Esta opção tem naturalmente mais impacto na procura iterativa, em que os estados iniciais são re-expandidos, mas pode ter influencia mesmo sem ser na procura iterativa, caso o mesmo estado apareça várias vezes por ordens distintas de movimentos.</p>
<p>Vamos utilizar 1 segundo por lance. O valor de omissão de P7 é 0, mas vamos colocar P7=0 para realçar que estamos na procura iterativa. Utilizamos apenas a instãncia 3 para que o torneio não leve muito tempo, já que cada lance levará 1 segundo.</p>
<div class="fragment"><div class="line">PS ...\Teste&gt; TProcuraAdversa 3 -R resultadoIterativo -P P4=1 P7=0 P1=1,2 x P12=0:2</div>
<div class="line">...</div>
<div class="line">Opção: 2</div>
<div class="line">...</div>
<div class="line">Ficheiro resultadoIterativo.csv gravado.</div>
</div><!-- fragment --><p>| P1(Algoritmo) | P12(Ordenar) | Rótulos de Linha | 0 | 1 | 2 | 3 | 4 | 5 | Total Geral | |:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:|:&mdash;:| | 1:MiniMax | 0 | |0 | 0 | 0 | 0 | 0 | 0 | 0 | | 2:MiniMax alfa/beta | 0 | 1 | | 1 | 1 | 0 | 1 | 0 | 3 | | 1:MiniMax | 1 | 2 | 0 | 0 | | 0 | 0 | 1 | 1 | | 2:MiniMax alfa/beta | 1 | 3 | 0 | 0 | 0 | | 0 | 1 | 1 | | 1:MiniMax | 2 | 4 | 0 | 0 | 0 | 0 | | 0 | 0 | | 2:MiniMax alfa/beta | 2 | 5 | 0 | 0 | 0 | 0 | 0 | | 0 | | Total Geral | | 1 | 0 | 1 | 0 | 1 | 2 | 5 |</p>
<p>Estes resultados apontam para vantagem do MiniMax com cortes alfa/beta, sem ordenação.</p>
<p>Os resultados por jogador:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">P1(Algoritmo)   </th><th class="markdownTableHeadCenter">P12(Ordenar)   </th><th class="markdownTableHeadCenter">Rótulos de Linha   </th><th class="markdownTableHeadCenter">Brancas   </th><th class="markdownTableHeadCenter">Pretas   </th><th class="markdownTableHeadCenter">Total Geral    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">-1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">3    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">-1    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">-2   </td><td class="markdownTableBodyCenter">-2   </td></tr>
</table>
<p>| Total Geral | 5 | -5 | 0 |</p>
<p>Esta tabela confirma a tabela anterior, e permite observar que nesta instância as brancas ganham com maior facilidade.</p>
<p>Vamos agora utilizar uma instância maior, mas com a gravidade, a instância 5, em que os sucessores são mais limitados.</p>
<div class="fragment"><div class="line">PS ...\Teste&gt; TProcuraAdversa 5 -R resultadoIterativo5 -P P4=1 P7=0 P1=1,2 x P12=0:2</div>
<div class="line">...</div>
<div class="line">Opção: 2</div>
<div class="line">...</div>
<div class="line">Ficheiro resultadoIterativo5.csv gravado.</div>
</div><!-- fragment --><p>Resultados por jogador:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">P1(Algoritmo)   </th><th class="markdownTableHeadCenter">P12(Ordenar)   </th><th class="markdownTableHeadCenter">Rótulos de Linha   </th><th class="markdownTableHeadCenter">Brancas   </th><th class="markdownTableHeadCenter">Pretas   </th><th class="markdownTableHeadCenter">Total Geral    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">0   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-3   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-2    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">-2    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">-3   </td><td class="markdownTableBodyCenter">3   </td><td class="markdownTableBodyCenter">0    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1:MiniMax   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">4   </td><td class="markdownTableBodyCenter">-1   </td><td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">4    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2:MiniMax alfa/beta   </td><td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyCenter">5   </td><td class="markdownTableBodyCenter">-3   </td><td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyCenter">-2   </td></tr>
</table>
<p>| Total Geral | | -12 | 12 | 0 |</p>
<p>Podemos observar que o MiniMax com ordenação 2 é o algoritmo mais forte neste jogo. O jogo aparenta não permitir empates, e as pretas têm mais facilidade em ganhar.</p>
<p>O MiniMax ao utilizar a ordenação 2, memoriza mais estados e pode assim ter maior vantagem que o ganho pelos cortes do alfa/beta. Ao utilizar o alfa/beta, a informação memorizada tem de ter informação se esteve um corte alfa ou beta ativo, para utilizar devidamente o valor registado, como um upper bound ou lower bound. Assim, o ganho da memorização perde-se.</p>
<p>Estes resultados poderiam ser mais evidentes com mais tempo por jogada, o que permitiria maiores profundidades e maiores ganhos em algumas configurações. Por outro lado, para maior precisão, tem de se utilizar aleatoriedade e ruído, que é o que iremos fazer na próxima ação.</p>
<p><a class="anchor" id="jel-a5"></a></p>
<h2><a class="anchor" id="autotoc_md68"></a>
Ação 5 - Torneio Ruido</h2>
<p>Um jogo isolado pode não significar muito. Vamos ver entre duas configurações, se uma é de facto melhor que a outra, utilizando vários jogos, com diferentes sementes aleatórias.</p>
<p>Pretendemos saber entre o MiniMax com e sem cortes alfa/beta, qual é o melhor, se ordenarmos com 2 (guarda estados analisados), e utilizarmos a procura iterativa.</p>
<p>No entanto, se executarmos um teste a variar apenas a semente, como a semente aleatória apenas tem efeito se forem gerados números aleatórios, iriamos apenas gerar jogadores iguais.</p>
<p>Assim, vamos primeiramente estudar o uso do ruído na heurística, com o efeito de variar a jogada.</p>
<p>O ruído é especificado no parâmetro 10, e o seu valor pode ser positivo ou negativo. Se for negativo pode oscilar positiva ou negativamente, se positivo será sempre um ruído positivo. Vamos variar entre valores negativos, já que pretendemos que o ruído seja simétrico. Esperamos que ruído baixo, não altere a força de jogo, mas ruído alto degrade consideravelmente a força de jogo.</p>
<div class="fragment"><div class="line">PS ...\Teste&gt; TProcuraAdversa 5 -R resultadoRuido -P P4=1 P7=0 P12=0 P1=1 P10=0,-1,-2,-5,-10 </div>
<div class="line">...</div>
<div class="line">Opção: 2</div>
<div class="line">...</div>
<div class="line">Ficheiro resultadoRuido.csv gravado.</div>
</div><!-- fragment --><p>... (estudar o efeito do ruído)</p>
<p><a class="anchor" id="jel-a6"></a></p>
<h2><a class="anchor" id="autotoc_md69"></a>
Ação 6 - Torneio Poda</h2>
<p>... (estudar o efeito da poda) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
