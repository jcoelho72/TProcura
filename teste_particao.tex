\chapter{Teste Particao}
\hypertarget{teste_particao}{}\label{teste_particao}\index{Teste Particao@{Teste Particao}}
\texorpdfstring{$\vert$}{|} \href{teste_tvector.html}{\texttt{ Teste\+TVector}} \texorpdfstring{$\vert$}{|} \href{teste_aspirador1.html}{\texttt{ Aspirador 1}} \texorpdfstring{$\vert$}{|} \href{teste_aspirador2.html}{\texttt{ Aspirador 2}} \texorpdfstring{$\vert$}{|} \href{teste_puzzle8.html}{\texttt{ Puzzle 8}} \texorpdfstring{$\vert$}{|} \href{teste_8damas.html}{\texttt{ 8 Damas}} \texorpdfstring{$\vert$}{|} \href{teste_particao.html}{\texttt{ Partição}} \texorpdfstring{$\vert$}{|} \href{teste_artificial.html}{\texttt{ Artificial}} \texorpdfstring{$\vert$}{|} \href{teste_8damas_ci.html}{\texttt{ 8 Damas CI}} \texorpdfstring{$\vert$}{|} \href{teste_8damas_cp.html}{\texttt{ 8 Damas CP}} \texorpdfstring{$\vert$}{|} \href{teste_particao_cb.html}{\texttt{ Partição CB}} \texorpdfstring{$\vert$}{|}

Execução de exemplo com base no problema da Partição. Selecione o projeto \doxylink{classTProcuraConstrutiva}{TProcura\+Construtiva}, e execute. Pode acompanhar o teste excutando as ações localmente.\hypertarget{teste_particao_autotoc_md47}{}\doxysubsection{\texorpdfstring{Sumário}{Sumário}}\label{teste_particao_autotoc_md47}

\begin{DoxyItemize}
\item \doxylink{teste_particao_particao-a1}{Ação 1 -\/ Ver instâncias}
\item \doxylink{teste_particao_particao-a2}{Ação 2 -\/ Resolver manualmente}
\item \doxylink{teste_particao_particao-a3}{Ação 6 -\/ Testes Empíricos}
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{Teste\ TProcurasConstrutivas}
\DoxyCodeLine{Problema:}
\DoxyCodeLine{\ \ 1\ -\/\ Aspirador}
\DoxyCodeLine{\ \ 2\ -\/\ Puzzle\ 8}
\DoxyCodeLine{\ \ 3\ -\/\ 8\ Damas}
\DoxyCodeLine{\ \ 4\ -\/\ Partição}
\DoxyCodeLine{\ \ 5\ -\/\ Artificial}
\DoxyCodeLine{Opção:\ 4}

\end{DoxyCode}


 
\begin{DoxyImage}
\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{particao.png}
\doxyfigcaption{Partição -\/ separe os números em duas partes iguais}
\end{DoxyImage}
   

Vamos escolher o problema da partição. Introduza\+: {\bfseries{4.}}


\begin{DoxyCode}{0}
\DoxyCodeLine{Partição}
\DoxyCodeLine{\ P1(Algoritmo):\ Largura\ Primeiro\ |\ P2(Debug):\ nada\ |\ P3(Seed):\ 1\ |\ P4(Tempo):\ 10\ |\ P5(Iterações):\ 0}
\DoxyCodeLine{\ P6(Ver):\ 4\ |\ P7(Limite):\ 0\ |\ P8(Repetidos):\ ignorar\ |\ P9(pesoAStar):\ 100\ |\ P10(ruido):\ 0}
\DoxyCodeLine{\ P11(baralhar):\ 0}
\DoxyCodeLine{Colocar\ \#8:\ 0\ =\ 0}
\DoxyCodeLine{-\/-\/-\/\ \ \ 2\ \ \ 2\ \ \ 9\ \ \ 9\ \ -\/-\/-\/}
\DoxyCodeLine{-\/-\/-\/\ \ 13\ \ 16\ \ 17\ \ 24\ \ -\/-\/-\/}
\DoxyCodeLine{\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_}
\DoxyCodeLine{|\ 1\ -\/\ Inicializar\ |\ 2\ -\/\ Explorar\ |\ 3\ -\/\ Parâmetros\ \ \ \ |\ 4\ -\/\ Solução\ |}
\DoxyCodeLine{|\ 5\ -\/\ Indicadores\ |\ 6\ -\/\ Executar\ |\ 7\ -\/\ Configurações\ |\ 8\ -\/\ Teste\ \ \ |}
\DoxyCodeLine{Opção:}

\end{DoxyCode}
 Este problema consiste em dividir os números em duas partes que somem exatamente o mesmo valor.

\label{teste_particao_particao-a1}%
\Hypertarget{teste_particao_particao-a1}%
\hypertarget{teste_particao_autotoc_md48}{}\doxysubsection{\texorpdfstring{Ação 1 -\/ Ver instâncias}{Ação 1 - Ver instâncias}}\label{teste_particao_autotoc_md48}
Vamos ver as instâncias que temos. Introduza\+: {\bfseries{1; 10.}}


\begin{DoxyCode}{0}
\DoxyCodeLine{ID\ atual:\ 10\ \ Intervalo:\ [2-\/1000]\ \ Prefixo\ atual:\ 'instancia\_'}
\DoxyCodeLine{Novo\ ID\ (ENTER\ mantém)\ ou\ novo\ prefixo\ (texto):\ 10}

\end{DoxyCode}
 Existem instâncias de 2 a 1000, correspondendo o ID à quantidade de números. As instâncias são geradas aleatoriamente, podendo existir instâncias impossíveis.

Deixemos a instância 10 para resolução manual.

\label{teste_particao_particao-a2}%
\Hypertarget{teste_particao_particao-a2}%
\hypertarget{teste_particao_autotoc_md49}{}\doxysubsection{\texorpdfstring{Ação 2 -\/ Resolver manualmente}{Ação 2 - Resolver manualmente}}\label{teste_particao_autotoc_md49}
Vamos procurar resolver manualmente a intância. Introduza\+: {\bfseries{2; esq dir esq dir; dir; esq.}}


\begin{DoxyCode}{0}
\DoxyCodeLine{g:0\ 1|2|3}
\DoxyCodeLine{Colocar\ \#8:\ 0\ =\ 0}
\DoxyCodeLine{-\/-\/-\/\ \ \ 2\ \ \ 2\ \ \ 9\ \ \ 9\ \ -\/-\/-\/}
\DoxyCodeLine{-\/-\/-\/\ \ 13\ \ 16\ \ 17\ \ 24\ \ -\/-\/-\/}
\DoxyCodeLine{Ações:\ esq\ dir}
\DoxyCodeLine{Sucessor\ [1-\/2,\ ação(ões),\ exe]:esq\ dir\ esq\ dir}
\DoxyCodeLine{Executadas\ 4\ ações\ com\ sucesso.}
\DoxyCodeLine{g:0\ 6|12|6}
\DoxyCodeLine{Colocar\ \#4:\ 40\ =\ 30}
\DoxyCodeLine{-\/-\/-\/\ \ \ 2\ \ \ 2\ \ \ 9\ \ \ 9\ \ -\/-\/-\/}
\DoxyCodeLine{\ \ \ \ \ 24\ \ 16\ \ \ \ \ \ \ \ \ \ <<<}
\DoxyCodeLine{>>>\ \ 17\ \ 13}
\DoxyCodeLine{Ações:\ esq\ dir}
\DoxyCodeLine{Sucessor\ [1-\/2,\ ação(ões),\ exe]:dir}
\DoxyCodeLine{Executadas\ 1\ ações\ com\ sucesso.}
\DoxyCodeLine{g:0\ 8|16|9}
\DoxyCodeLine{Colocar\ \#3:\ 40\ =\ 39}
\DoxyCodeLine{-\/-\/-\/\ \ \ 2\ \ \ 2\ \ \ 9\ \ \ \ \ \ -\/-\/-\/}
\DoxyCodeLine{\ \ \ \ \ 24\ \ 16\ \ \ \ \ \ \ \ \ \ <<<}
\DoxyCodeLine{>>>\ \ 17\ \ 13\ \ \ 9}
\DoxyCodeLine{Ações:\ esq\ dir}
\DoxyCodeLine{Sucessor\ [1-\/2,\ ação(ões),\ exe]:esq}
\DoxyCodeLine{Executadas\ 1\ ações\ com\ sucesso.}
\DoxyCodeLine{g:0\ 10|18|10}
\DoxyCodeLine{Colocar\ \#2:\ 49\ =\ 39}
\DoxyCodeLine{-\/-\/-\/\ \ \ 2\ \ \ 2\ \ \ \ \ \ \ \ \ \ -\/-\/-\/}
\DoxyCodeLine{\ \ \ \ \ 24\ \ 16\ \ \ 9\ \ \ \ \ \ <<<}
\DoxyCodeLine{>>>\ \ 17\ \ 13\ \ \ 9}
\DoxyCodeLine{Ações:}
\DoxyCodeLine{Sem\ sucessores.}
\DoxyCodeLine{Partição}
\DoxyCodeLine{\ P1(Algoritmo):\ Largura\ Primeiro\ |\ P2(Debug):\ nada\ |\ P3(Seed):\ 1\ |\ P4(Tempo):\ 10\ |\ P5(Iterações):\ 0}
\DoxyCodeLine{\ P6(Ver):\ 4\ |\ P7(Limite):\ 0\ |\ P8(Repetidos):\ ignorar\ |\ P9(pesoAStar):\ 100\ |\ P10(ruido):\ 0}
\DoxyCodeLine{\ P11(baralhar):\ 0}
\DoxyCodeLine{Colocar\ \#2:\ 49\ =\ 39}
\DoxyCodeLine{-\/-\/-\/\ \ \ 2\ \ \ 2\ \ \ \ \ \ \ \ \ \ -\/-\/-\/}
\DoxyCodeLine{\ \ \ \ \ 24\ \ 16\ \ \ 9\ \ \ \ \ \ <<<}
\DoxyCodeLine{>>>\ \ 17\ \ 13\ \ \ 9}
\DoxyCodeLine{\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_}

\end{DoxyCode}
 Foi uma boa tentativa, mas no final um lado soma 49 do outro 39, e os números que restam não chegam para equilibrar.

Tal como as 8 damas, o número de ações de uma solução completa é fixo. É igual à quantidade de número a colocar. Sabemos que não faz sentido a procura em largura nestes problemas. Também pelos mesmos motivos que nas 8 damas, não se consegue uma heurística pelo que não faz sentido as procuras informadas.

Naturalmente que se poderia efetuar mais cortes dos que estão a ser feitos nesta implementação. Vamos apenas comparar a remoção de repetidos gerados, relativamente a ignorar repetidos.

No caso da partição, após um número estar num lado, apenas a soma interessa. Como se coloca os números por ordem, um estado fica igual a todos os que têm o montante igual das peças colocadas. Esquerda e direita é naturalmente irrelevante.

Como o estado codificado fica pequeno, a expectativa para ganho por repetidos aumenta.

\label{teste_particao_particao-a3}%
\Hypertarget{teste_particao_particao-a3}%
\hypertarget{teste_particao_autotoc_md50}{}\doxysubsection{\texorpdfstring{Ação 3 -\/ Testes Empíricos}{Ação 3 - Testes Empíricos}}\label{teste_particao_autotoc_md50}
Vamos fazer testes empíricos na linha de comandos.

Vamos obter primeiramente a lista de todos os parâmetros.


\begin{DoxyCode}{0}
\DoxyCodeLine{C:\(\backslash\)...\(\backslash\)TProcura\(\backslash\)Construtiva\(\backslash\)Teste>\ ../../x64/Release/TProcuraConstrutiva\ -\/h}
\DoxyCodeLine{PS\ C:\(\backslash\)...\(\backslash\)TProcura\(\backslash\)Construtiva\(\backslash\)Teste>\ ../../x64/Release/TProcuraConstrutiva\ -\/h}
\DoxyCodeLine{}
\DoxyCodeLine{Teste\ TProcurasConstrutivas}
\DoxyCodeLine{Problema:}
\DoxyCodeLine{\ \ 1\ -\/\ Aspirador}
\DoxyCodeLine{\ \ 2\ -\/\ Puzzle\ 8}
\DoxyCodeLine{\ \ 3\ -\/\ 8\ Damas}
\DoxyCodeLine{\ \ 4\ -\/\ Partição}
\DoxyCodeLine{\ \ 5\ -\/\ Artificial}
\DoxyCodeLine{Opção:\ 4}
\DoxyCodeLine{Uso:\ C:\(\backslash\)...\(\backslash\)TProcura\(\backslash\)x64\(\backslash\)Release\(\backslash\)TProcuraConstrutiva.exe\ <instâncias>\ [opções]}
\DoxyCodeLine{\ \ <instâncias>\ \ \ \ Conjunto\ de\ IDs:\ A\ |\ A,B,C\ |\ A:B[:C]}
\DoxyCodeLine{Opções:}
\DoxyCodeLine{\ \ -\/R\ <ficheiro>\ \ \ Nome\ do\ CSV\ de\ resultados\ (omissão:\ resultados.csv)}
\DoxyCodeLine{\ \ -\/F\ <prefixo>\ \ \ \ Prefixo\ dos\ ficheiros\ de\ instância\ (omissão:\ instancia\_)}
\DoxyCodeLine{\ \ -\/I\ <ind>\ \ \ \ \ \ \ \ Lista\ de\ indicadores\ (e.g.\ 2,1,3)}
\DoxyCodeLine{\ \ -\/S\ \ \ \ \ \ \ \ \ \ \ \ \ \ Mostrar\ soluções\ durante\ a\ execução}
\DoxyCodeLine{\ \ -\/h\ \ \ \ \ \ \ \ \ \ \ \ \ \ Esta\ ajuda}
\DoxyCodeLine{\ \ -\/P\ <expr>\ \ \ \ \ \ \ Parâmetros\ (e.g.\ P1=1:3\ x\ P2=0:2)\ -\/\ último\ campo}
\DoxyCodeLine{Exemplo:\ C:\(\backslash\)...\(\backslash\)TProcura\(\backslash\)x64\(\backslash\)Release\(\backslash\)TProcuraConstrutiva.exe\ 1:5\ -\/R\ out\ -\/F\ fich\_\ -\/I\ 3,1,4,2\ -\/P\ P1=1:5\ x\ P6=1,2}
\DoxyCodeLine{\ \ \ Executar\ sem\ argumentos\ entra\ em\ modo\ interativo,\ para\ explorar\ todos\ os\ parametros\ e\ indicadores}
\DoxyCodeLine{}
\DoxyCodeLine{Lista\ de\ parâmetros:}
\DoxyCodeLine{\ P1(Algoritmo):\ Largura\ Primeiro\ (1\ a\ 7)}
\DoxyCodeLine{\ P2(Debug):\ nada\ (0\ a\ 4)}
\DoxyCodeLine{\ P3(Seed):\ 1\ (1\ a\ 1000000)}
\DoxyCodeLine{\ P4(Tempo):\ 10\ (1\ a\ 3600)}
\DoxyCodeLine{\ P5(Iterações):\ 0\ (0\ a\ 1000000000)}
\DoxyCodeLine{\ P6(Ver):\ 4\ (1\ a\ 100)}
\DoxyCodeLine{\ P7(Limite):\ 0\ (-\/1\ a\ 1000000)}
\DoxyCodeLine{\ P8(Repetidos):\ ignorar\ (1\ a\ 3)}
\DoxyCodeLine{\ P9(pesoAStar):\ 100\ (0\ a\ 10000)}
\DoxyCodeLine{\ P10(ruido):\ 0\ (-\/100\ a\ 100)}
\DoxyCodeLine{\ P11(baralhar):\ 0\ (0\ a\ 1)}
\DoxyCodeLine{}
\DoxyCodeLine{Lista\ de\ indicadores:}
\DoxyCodeLine{}
\DoxyCodeLine{I1(Custo):\ 1º\ lugar\ (o\ resultado\ é\ o\ custo\ da\ solução\ atual)}
\DoxyCodeLine{I2(Tempo(ms)):\ 2º\ lugar\ (Tempo\ em\ milisegundos\ da\ execução\ (medida\ de\ esforço\ computacional).)}
\DoxyCodeLine{I3(Iterações):\ 3º\ lugar\ (Iterações\ do\ algoritmo,\ intrepretadas\ conforme\ o\ algoritmo\ (medida\ de\ esforço\ independente\ do\ hardware).)}
\DoxyCodeLine{I4(Expansões):\ 4º\ lugar\ (número\ de\ expansões\ efetuadas)}
\DoxyCodeLine{I5(Gerações):\ 5º\ lugar\ (número\ de\ estados\ gerados)}
\DoxyCodeLine{I6(Lower\ Bound):\ 6º\ lugar\ (valor\ mínimo\ para\ a\ melhor\ solução,\ se\ igual\ ao\ custo\ da\ solução\ obtida,\ então\ esta\ é\ ótima)}

\end{DoxyCode}


Temos para teste a procura em profundidade ilimitada, e pretendemos comparar ignorar estados repetidos, ou remover todos os repetidos gerados.


\begin{DoxyCode}{0}
\DoxyCodeLine{PS\ ...\(\backslash\)Teste>\ TProcuraConstrutiva\ 10:19\ -\/R\ resultadoParticao\ -\/P\ P7=-\/1\ P1=3\ x\ P8=1,3}
\DoxyCodeLine{...}
\DoxyCodeLine{Opção:\ 4}
\DoxyCodeLine{...}
\DoxyCodeLine{Ficheiro\ resultadoParticao.csv\ gravado.}

\end{DoxyCode}


Podemos ver o resultado\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{7}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados    }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados    }\\\cline{1-7}
\endhead
\PBS\centering 10   &\PBS\raggedleft 8   &\PBS\raggedleft 8   &\PBS\raggedleft 0   &\PBS\raggedleft 15   &\PBS\raggedleft 27   &\PBS\raggedleft 27    \\\cline{1-7}
\PBS\centering 11   &\PBS\raggedleft 10   &\PBS\raggedleft 10   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 17   &\PBS\raggedleft 17    \\\cline{1-7}
\PBS\centering 12   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 1   &\PBS\raggedleft 5   &\PBS\raggedleft 947   &\PBS\raggedleft 119    \\\cline{1-7}
\PBS\centering 13   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 1151   &\PBS\raggedleft 143    \\\cline{1-7}
\PBS\centering 14   &\PBS\raggedleft 14   &\PBS\raggedleft 14   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 24   &\PBS\raggedleft 24    \\\cline{1-7}
\PBS\centering 15   &\PBS\raggedleft 15   &\PBS\raggedleft 15   &\PBS\raggedleft 0   &\PBS\raggedleft 5   &\PBS\raggedleft 25   &\PBS\raggedleft 25    \\\cline{1-7}
\PBS\centering 16   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 6   &\PBS\raggedleft 5   &\PBS\raggedleft 17403   &\PBS\raggedleft 440    \\\cline{1-7}
\PBS\centering 17   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 8   &\PBS\raggedleft 4   &\PBS\raggedleft 24223   &\PBS\raggedleft 462    \\\cline{1-7}
\PBS\centering 18   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 17   &\PBS\raggedleft 5   &\PBS\raggedleft 46639   &\PBS\raggedleft 630    \\\cline{1-7}
\PBS\centering 19   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 21   &\PBS\raggedleft 6   &\PBS\raggedleft 57931   &\PBS\raggedleft 580    \\\cline{1-7}
\PBS\centering Total Geral   &\PBS\raggedleft 41   &\PBS\raggedleft 41   &\PBS\raggedleft 53   &\PBS\raggedleft 57   &\PBS\raggedleft 148387   &\PBS\raggedleft 2467   \\\cline{1-7}
\end{longtabu}


As instâncias escolhidas são muito pequenas, e o tempo de execução é praticamente nulo. Não servem para medir diferenças de tempo, mas servem para medir diferenças no número de estados expandidos. Tudo leva a crer que a remoção de repetidos gerados é muito vantajosa.

Vamos procurar instâncias maiores, de 20 a 29.


\begin{DoxyCode}{0}
\DoxyCodeLine{PS\ ...\(\backslash\)Teste>\ TProcuraConstrutiva\ 20:29\ -\/R\ resultadoParticaoB\ -\/P\ P7=-\/1\ P1=3\ x\ P8=1,3}
\DoxyCodeLine{...}
\DoxyCodeLine{Opção:\ 4}
\DoxyCodeLine{...}
\DoxyCodeLine{Ficheiro\ resultadoParticaoB.csv\ gravado.}

\end{DoxyCode}


\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{7}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados    }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)~\newline
1\+:ignorar   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ 3\+:gerados    }\\\cline{1-7}
\endhead
\PBS\centering 20   &\PBS\raggedleft 18   &\PBS\raggedleft 18   &\PBS\raggedleft 0   &\PBS\raggedleft 14   &\PBS\raggedleft 87   &\PBS\raggedleft 85    \\\cline{1-7}
\PBS\centering 21   &\PBS\raggedleft 21   &\PBS\raggedleft 21   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 46   &\PBS\raggedleft 46    \\\cline{1-7}
\PBS\centering 22   &\PBS\raggedleft 21   &\PBS\raggedleft 21   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 35   &\PBS\raggedleft 35    \\\cline{1-7}
\PBS\centering 23   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 134   &\PBS\raggedleft 7   &\PBS\raggedleft 390983   &\PBS\raggedleft 1236    \\\cline{1-7}
\PBS\centering 24   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 381   &\PBS\raggedleft 5   &\PBS\raggedleft 1071431   &\PBS\raggedleft 1164    \\\cline{1-7}
\PBS\centering 25   &\PBS\raggedleft 25   &\PBS\raggedleft 25   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 41   &\PBS\raggedleft 41    \\\cline{1-7}
\PBS\centering 26   &\PBS\raggedleft 25   &\PBS\raggedleft 25   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 66   &\PBS\raggedleft 65    \\\cline{1-7}
\PBS\centering 27   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 2420   &\PBS\raggedleft 5   &\PBS\raggedleft 8098059   &\PBS\raggedleft 2104    \\\cline{1-7}
\PBS\centering 28   &\PBS\raggedleft -\/1   &\PBS\raggedleft -\/1   &\PBS\raggedleft 2431   &\PBS\raggedleft 8   &\PBS\raggedleft 7867847   &\PBS\raggedleft 2186    \\\cline{1-7}
\PBS\centering 29   &\PBS\raggedleft 29   &\PBS\raggedleft 29   &\PBS\raggedleft 0   &\PBS\raggedleft 4   &\PBS\raggedleft 49   &\PBS\raggedleft 49    \\\cline{1-7}
\PBS\centering Total Geral   &\PBS\raggedleft 135   &\PBS\raggedleft 135   &\PBS\raggedleft 5366   &\PBS\raggedleft 59   &\PBS\raggedleft 17428644   &\PBS\raggedleft 7011   \\\cline{1-7}
\end{longtabu}


É agora claro que a remoção de repetidos gerados é crítica para o desempenho. Podemos ver também que as instâncias que não têm solução, são muito mais difíceis. Nestas instâncias toda a árvore de estados é percorrida, e podemos registar diferenças entre ter ou não remoção de repetidos, de várias ordens de grandeza.

Qual é a maior instância que se conseguimos resolver com esta implemantação? 

{\bfseries{Resposta\+:}}\begin{adjustwidth}{1em}{0em}
Vamos usar apenas a remoção de repetidos. Como não sabemos qual é a maior instância que se consegue resolver, e o melhor método tem um tempo insignificante na maior instância testada, a 29, fazemos primeiramente um teste de 10 em 10, até 200, para termos uma ideia.


\begin{DoxyCode}{0}
\DoxyCodeLine{PS\ ...\(\backslash\)Teste>\ TProcuraConstrutiva\ 30:200:10\ -\/R\ resultadoParticaoC\ -\/P\ P7=-\/1\ P1=3\ P8=3}
\DoxyCodeLine{...}
\DoxyCodeLine{Opção:\ 4}
\DoxyCodeLine{...}
\DoxyCodeLine{Ficheiro\ resultadoParticaoC.csv\ gravado.}

\end{DoxyCode}


\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)    }\\\cline{1-4}
\endhead
\PBS\centering 30   &\PBS\raggedleft 30   &\PBS\raggedleft 15   &\PBS\raggedleft 50    \\\cline{1-4}
\PBS\centering 40   &\PBS\raggedleft -\/1   &\PBS\raggedleft 10   &\PBS\raggedleft 7301    \\\cline{1-4}
\PBS\centering 50   &\PBS\raggedleft 50   &\PBS\raggedleft 4   &\PBS\raggedleft 83    \\\cline{1-4}
\PBS\centering 60   &\PBS\raggedleft 60   &\PBS\raggedleft 3   &\PBS\raggedleft 142    \\\cline{1-4}
\PBS\centering 70   &\PBS\raggedleft 70   &\PBS\raggedleft 6   &\PBS\raggedleft 119    \\\cline{1-4}
\PBS\centering 80   &\PBS\raggedleft 79   &\PBS\raggedleft 4   &\PBS\raggedleft 132    \\\cline{1-4}
\PBS\centering 90   &\PBS\raggedleft -\/1   &\PBS\raggedleft 79   &\PBS\raggedleft 74065    \\\cline{1-4}
\PBS\centering 100   &\PBS\raggedleft -\/1   &\PBS\raggedleft 132   &\PBS\raggedleft 130625    \\\cline{1-4}
\PBS\centering 110   &\PBS\raggedleft 108   &\PBS\raggedleft 4   &\PBS\raggedleft 314    \\\cline{1-4}
\PBS\centering 120   &\PBS\raggedleft -\/1   &\PBS\raggedleft 230   &\PBS\raggedleft 222208    \\\cline{1-4}
\PBS\centering 130   &\PBS\raggedleft -\/1   &\PBS\raggedleft 291   &\PBS\raggedleft 269323    \\\cline{1-4}
\PBS\centering 140   &\PBS\raggedleft 140   &\PBS\raggedleft 4   &\PBS\raggedleft 236    \\\cline{1-4}
\PBS\centering 150   &\PBS\raggedleft 149   &\PBS\raggedleft 5   &\PBS\raggedleft 252    \\\cline{1-4}
\PBS\centering 160   &\PBS\raggedleft -\/1   &\PBS\raggedleft 710   &\PBS\raggedleft 604753    \\\cline{1-4}
\PBS\centering 170   &\PBS\raggedleft -\/1   &\PBS\raggedleft 814   &\PBS\raggedleft 655988    \\\cline{1-4}
\PBS\centering 180   &\PBS\raggedleft 178   &\PBS\raggedleft 4   &\PBS\raggedleft 376    \\\cline{1-4}
\PBS\centering 190   &\PBS\raggedleft 190   &\PBS\raggedleft 5   &\PBS\raggedleft 673    \\\cline{1-4}
\PBS\centering 200   &\PBS\raggedleft 198   &\PBS\raggedleft 4   &\PBS\raggedleft 339    \\\cline{1-4}
\PBS\centering Total Geral   &\PBS\raggedleft 1245   &\PBS\raggedleft 2324   &\PBS\raggedleft 1966979   \\\cline{1-4}
\end{longtabu}


Todas as instâncias a baixo de 1 segundo, mas mesmo assim já perto do limite dos 10 segundos. A instância 100 levou 0.\+1 segundos, a 160 levou 0.\+7 segundos, pelo que o limite estará algures entre 200 e 300. Assim, vamos testar a partir de 200, até 300, passos de 5.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rótulos de Linha   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I1(\+Custo)   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I2(\+Tempo(ms))   }&\PBS\raggedleft \cellcolor{\tableheadbgcolor}\textbf{ Soma de I4(Expansões)    }\\\cline{1-4}
\endhead
\PBS\centering 205   &\PBS\raggedleft -\/1   &\PBS\raggedleft 1638   &\PBS\raggedleft 1251882    \\\cline{1-4}
\PBS\centering 210   &\PBS\raggedleft -\/1   &\PBS\raggedleft 1399   &\PBS\raggedleft 1107437    \\\cline{1-4}
\PBS\centering 215   &\PBS\raggedleft -\/1   &\PBS\raggedleft 1824   &\PBS\raggedleft 1407324    \\\cline{1-4}
\PBS\centering 220   &\PBS\raggedleft -\/1   &\PBS\raggedleft 1906   &\PBS\raggedleft 1516272    \\\cline{1-4}
\PBS\centering 225   &\PBS\raggedleft 224   &\PBS\raggedleft 4   &\PBS\raggedleft 382    \\\cline{1-4}
\PBS\centering 230   &\PBS\raggedleft 230   &\PBS\raggedleft 4   &\PBS\raggedleft 392    \\\cline{1-4}
\PBS\centering 235   &\PBS\raggedleft 234   &\PBS\raggedleft 4   &\PBS\raggedleft 398    \\\cline{1-4}
\PBS\centering 240   &\PBS\raggedleft 239   &\PBS\raggedleft 5   &\PBS\raggedleft 463    \\\cline{1-4}
\PBS\centering 245   &\PBS\raggedleft 245   &\PBS\raggedleft 5   &\PBS\raggedleft 417    \\\cline{1-4}
\PBS\centering 250   &\PBS\raggedleft 250   &\PBS\raggedleft 5   &\PBS\raggedleft 425    \\\cline{1-4}
\PBS\centering 255   &\PBS\raggedleft 254   &\PBS\raggedleft 5   &\PBS\raggedleft 433    \\\cline{1-4}
\PBS\centering 260   &\PBS\raggedleft 259   &\PBS\raggedleft 5   &\PBS\raggedleft 439    \\\cline{1-4}
\PBS\centering 265   &\PBS\raggedleft 265   &\PBS\raggedleft 5   &\PBS\raggedleft 450    \\\cline{1-4}
\PBS\centering 270   &\PBS\raggedleft 270   &\PBS\raggedleft 5   &\PBS\raggedleft 460    \\\cline{1-4}
\PBS\centering 275   &\PBS\raggedleft -\/2   &\PBS\raggedleft 10001   &\PBS\raggedleft 6974880    \\\cline{1-4}
\PBS\centering 280   &\PBS\raggedleft 280   &\PBS\raggedleft 5   &\PBS\raggedleft 1041    \\\cline{1-4}
\PBS\centering 285   &\PBS\raggedleft -\/2   &\PBS\raggedleft 10001   &\PBS\raggedleft 7132853    \\\cline{1-4}
\PBS\centering 290   &\PBS\raggedleft -\/2   &\PBS\raggedleft 10001   &\PBS\raggedleft 7017596    \\\cline{1-4}
\PBS\centering 295   &\PBS\raggedleft -\/2   &\PBS\raggedleft 10001   &\PBS\raggedleft 6435970    \\\cline{1-4}
\PBS\centering 300   &\PBS\raggedleft 299   &\PBS\raggedleft 5   &\PBS\raggedleft 511    \\\cline{1-4}
\PBS\centering Total Geral   &\PBS\raggedleft 3037   &\PBS\raggedleft 46828   &\PBS\raggedleft 32850025   \\\cline{1-4}
\end{longtabu}


A instância 275 não se consegue resolver em 10 segundos, mas a 220 sim. As instâncias com solução, são mais simples, pelo que perturbam a análise. A instância impossível maior que se consegue resoolver, estará entre 220 e 275.

Naturalmente que com outra semente aleatória, iriamos ter instâncias diferentes, que podem ser mais complexas ou mais simples.

\end{adjustwidth}


\texorpdfstring{$\vert$}{|} \href{teste_tvector.html}{\texttt{ Teste\+TVector}} \texorpdfstring{$\vert$}{|} \href{teste_aspirador1.html}{\texttt{ Aspirador 1}} \texorpdfstring{$\vert$}{|} \href{teste_aspirador2.html}{\texttt{ Aspirador 2}} \texorpdfstring{$\vert$}{|} \href{teste_puzzle8.html}{\texttt{ Puzzle 8}} \texorpdfstring{$\vert$}{|} \href{teste_8damas.html}{\texttt{ 8 Damas}} \texorpdfstring{$\vert$}{|} \href{teste_particao.html}{\texttt{ Partição}} \texorpdfstring{$\vert$}{|} \href{teste_artificial.html}{\texttt{ Artificial}} \texorpdfstring{$\vert$}{|} \href{teste_8damas_ci.html}{\texttt{ 8 Damas CI}} \texorpdfstring{$\vert$}{|} \href{teste_8damas_cp.html}{\texttt{ 8 Damas CP}} \texorpdfstring{$\vert$}{|} \href{teste_particao_cb.html}{\texttt{ Partição CB}} \texorpdfstring{$\vert$}{|} 