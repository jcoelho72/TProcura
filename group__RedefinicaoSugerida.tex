\doxysection{Métodos para redefinir, sugeridos}
\hypertarget{group__RedefinicaoSugerida}{}\label{group__RedefinicaoSugerida}\index{Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
virtual const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__RedefinicaoSugerida_gacbc6e34f3a403d26d806f37b5cd739f6}{TProcura\+Construtiva\+::\+Acao}} (\mbox{\hyperlink{TProcuraConstrutiva_8h_a510f7055614397eeab21f50df58cc9b8}{TNo}} sucessor)
\begin{DoxyCompactList}\small\item\em Retorna a ação (movimento, passo, jogada, lance, etc.) que gerou o sucessor. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{group__RedefinicaoSugerida_ga5ff46e85c8f1394c2502f17025284c11}{TProcura\+Construtiva\+::\+Codifica}} (uint64\+\_\+t estado\mbox{[}\mbox{\hyperlink{TProcuraConstrutiva_8h_ad1114b0f3993c53d8c5d61ecc3434526}{OBJETO\+\_\+\+HASHTABLE}}\mbox{]})
\begin{DoxyCompactList}\small\item\em Codifica o estado para um vetor de inteiros de 64 bits. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{group__RedefinicaoSugerida_ga0e8bb1bd33683545dc4f8f6329548b40}{TProcura\+Construtiva\+::\+Heuristica}} (void)
\begin{DoxyCompactList}\small\item\em Função para calcular quanto falta para o final, o valor da heurística. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Métodos de redefinição aconselhados a uma boa implementação 

\doxysubsection{Function Documentation}
\Hypertarget{group__RedefinicaoSugerida_gacbc6e34f3a403d26d806f37b5cd739f6}\label{group__RedefinicaoSugerida_gacbc6e34f3a403d26d806f37b5cd739f6} 
\index{Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}!Acao@{Acao}}
\index{Acao@{Acao}!Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}}
\doxysubsubsection{\texorpdfstring{Acao()}{Acao()}}
{\footnotesize\ttfamily virtual const char \texorpdfstring{$\ast$}{*} TProcura\+Construtiva\+::\+Acao (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{TProcuraConstrutiva_8h_a510f7055614397eeab21f50df58cc9b8}{TNo}}}]{sucessor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Retorna a ação (movimento, passo, jogada, lance, etc.) que gerou o sucessor. 

\begin{DoxyNote}{Note}
Redefinição opcional. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em sucessor} & -\/ estado filho deste, cuja ação deve ser identificada \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
texto identificando a ação, pode ser uma constante
\end{DoxyReturn}
Este método não é crítico, mas é importante para se poder visualizar ações. Se este método não for redefinido, a interface mostrará apenas os estados completos, sem detalhar as ações que os geraram.

Durante a exploração manual do espaço de estados, permitir que ações sejam fornecidas diretamente, ao invés de depender do ID do sucessor, facilita testes e integração com outros sistemas. Esta situação é vantajosa, para permitir introduzir uma sequência de ações, que eventualmente venha de outro programa, permitindo assim a validação da solução.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ CSubProblema::Acao(\mbox{\hyperlink{classTProcuraConstrutiva}{TNo}}\ sucessor)\ \{}
\DoxyCodeLine{\ \ \ \ CSubProblema\&\ filho\ =\ *((CSubProblema*)sucessor);}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ determinar\ pela\ diferença\ das\ variáveis\ de\ estado,\ a\ ação}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ exemplo\ de\ ações\ hipotéticas\ de\ manter,\ incrementar\ ou\ decrementar\ o\ valor\ da\ variável}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}(variavel\ ==\ filho.variavel)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}manter"{}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}(variavel\ ==\ filho.variavel\ +\ 1)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}inc"{}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}(variavel\ ==\ filho.variavel\ -\/\ 1)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}dec"{}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}Inválida"{}};}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

Definition at line \mbox{\hyperlink{TProcuraConstrutiva_8h_source_l00373}{373}} of file \mbox{\hyperlink{TProcuraConstrutiva_8h_source}{TProcura\+Construtiva.\+h}}.

Here is the caller graph for this function\+:
% FIG 0
\Hypertarget{group__RedefinicaoSugerida_ga5ff46e85c8f1394c2502f17025284c11}\label{group__RedefinicaoSugerida_ga5ff46e85c8f1394c2502f17025284c11} 
\index{Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}!Codifica@{Codifica}}
\index{Codifica@{Codifica}!Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}}
\doxysubsubsection{\texorpdfstring{Codifica()}{Codifica()}}
{\footnotesize\ttfamily void TProcura\+Construtiva\+::\+Codifica (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{estado\mbox{[}\+OBJETO\+\_\+\+HASHTABLE\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Codifica o estado para um vetor de inteiros de 64 bits. 

\begin{DoxyNote}{Note}
Redefinição opcional. Necessário para identificação de estados repetidos por hashtable.
\end{DoxyNote}
As variáveis de estado devem ser compactadas no vetor de inteiros de 64 bits. Todos os estados codificados têm de ser distintos de 0. Estados distintos, têm de ficar com codificações distintas.

Em diversos problemas, um mesmo estado pode ter múltiplas representações equivalentes. Por exemplo, se um conjunto de inteiros for um estado, este pode ser representado em vetor. No entanto a ordem é irrelevante, dado que é um conjunto. Assim não faz sentido guardar vários estados que sejam representações do mesmo estado. Há que normalizar o estado antes de o guardar, de modo a que seja dado como estado repetido, se uma das duas formas já tiver sido gerada. O exemplo do conjunto de inteiros, a normalização pode ser a ordenação do vetor, constituindo assim um estado único entre todas as formas que o conjunto pode ser representado em vetor. Problemas de tabuleiro, há simetrias que podem gerar várias versões da mesma posição.

\begin{DoxyNote}{Note}
Se a verificação de estados repetidos for baseada em hashtables, a superclasse chama este método dentro de {\ttfamily \doxylink{group__RedefinicaoMandatoria_ga0a13570d2f5a21296e3c10c2780e170c}{Sucessores()}}. 

Para otimizar o consumo de memória, são utilizadas hashtables com perdas. Se necessário pode alterar o tamanho da hashtable editando a macro TAMANHO\+\_\+\+HASHTABLE 

a variável tamanho\+Codificado tem de ter o número de variáveis de 64 bits utilizadas, garantindo que o vetor estado\mbox{[}\mbox{]} não é acedido na posição tamanho\+Codificado ou superior.
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{group__RedefinicaoMandatoria_ga89a0b35ca2c5c77d2c5175af6b9ca62a}{Solucao\+Vazia()}
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ CSubProblema::Codifica(uint64\_t\ estado[\mbox{\hyperlink{TProcuraConstrutiva_8h_ad1114b0f3993c53d8c5d61ecc3434526}{OBJETO\_HASHTABLE}}])}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ Vector<int>\ vetor;\ \textcolor{comment}{//\ assumindo\ neste\ exemplo\ que\ o\ estado\ é\ um\ vetor\ de\ inteiros\ pequenos}}
\DoxyCodeLine{\ \ \ \ Normalizar(vetor);\ \textcolor{comment}{//\ o\ vetor\ tem\ várias\ formas,\ e\ agora\ é\ normalizado\ por\ uma\ função\ de\ CSubProblema}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__RedefinicaoSugerida_ga5ff46e85c8f1394c2502f17025284c11}{TProcuraConstrutiva::Codifica}}(estado);\ \textcolor{comment}{//\ chamar\ a\ superclasse\ após\ normalizar\ o\ estado}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ codificar\ números\ de\ 4\ bits,\ assumindo\ que\ os\ inteiros\ pequenos\ cabem\ em\ 4\ bits}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0,\ index\ =\ 0;\ i\ <\ vetor.Count();\ i++,\ index\ +=\ 4)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ estado[index\ >>\ 6]\ |=\ (uint64\_t)vetor[i]\ <<\ (index\ \&\ 63);}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

Reimplemented in \mbox{\hyperlink{classCAspirador_a856e23c30c70be5345f56979b27fdc1d}{CAspirador}}, \mbox{\hyperlink{classCOitoDamas_a0e4d6e25bdbccb703b39604d286e62bf}{COito\+Damas}}, \mbox{\hyperlink{classCParticao_a51dc6a3cb2696010714aec34a42df97d}{CParticao}}, \mbox{\hyperlink{classCProblemaArtificial_ab8d1a6b1cac40764804e09a3ff110b6e}{CProblema\+Artificial}}, and \mbox{\hyperlink{classCPuzzle8_a611b043ab56407d684e27508ef9287fa}{CPuzzle8}}.



Definition at line \mbox{\hyperlink{TProcuraConstrutiva_8cpp_source_l00916}{916}} of file \mbox{\hyperlink{TProcuraConstrutiva_8cpp_source}{TProcura\+Construtiva.\+cpp}}.

Here is the caller graph for this function\+:
% FIG 1
\Hypertarget{group__RedefinicaoSugerida_ga0e8bb1bd33683545dc4f8f6329548b40}\label{group__RedefinicaoSugerida_ga0e8bb1bd33683545dc4f8f6329548b40} 
\index{Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}!Heuristica@{Heuristica}}
\index{Heuristica@{Heuristica}!Métodos para redefinir, sugeridos@{Métodos para redefinir, sugeridos}}
\doxysubsubsection{\texorpdfstring{Heuristica()}{Heuristica()}}
{\footnotesize\ttfamily int TProcura\+Construtiva\+::\+Heuristica (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Função para calcular quanto falta para o final, o valor da heurística. 

\begin{DoxyNote}{Note}
Redefinição opcional. Necessário para utilizar os algoritmos informados. 
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
Retorna a melhor estimativa, sem ultrapassar a real, do custo do estado atual até ao objetivo.
\end{DoxyReturn}
A função heurística é crítica para utilizar os algoritmos informados. Deve devolver uma estimativa sem ultrapassar o custo real, do custo que falta para atingir o estado objetivo mais próximo do estado atual. Se a estimativa não ultrapassar o custo real, a heurística será {\bfseries{admissível}}. No entanto, em alguns casos, heurísticas {\bfseries{não admissíveis}} podem ser utilizadas, podendo acelerar a procura, mesmo que ocasionalmente levem a resultados subótimos.

No final, chame a função heurística da superclasse para atualizar as estatísticas e o número de avaliações. Se estiver configurado, esse processo também pode introduzir ruído na heurística, o que pode impactar certos algoritmos de procura.

Esta função pretende-\/se rápida, e o mais próxima possível do valor real, sem ultrapassar.

\begin{DoxyNote}{Note}
Num problema, existindo alternativas, umas mais rápidas menos precisas, outras mais lentas mais precisas, é aconselhada a criação de um ou mais parametros para que a heurística possa ser calculada de acordo com o parametro definido. Em fase de testes logo se averigua qual a versão que adiciona mais vantagem à procura.

Uma heurística pode resultar de um relaxamento do problema. Verifique se o problema sem uma das restrições (fazendo batota), se consegue resolver mais facilmente. Utilize como heurística o custo de resolver o problema sem essa restrição.
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ CSubProblema::Heuristica(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__VariaveisEstado_ga1703a3b3ed01aa7742846d296aad112d}{heuristica}}\ =\ 0;\ \textcolor{comment}{//\ ponto\ de\ partida,\ há\ 0\ de\ custo}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ utilizar\ neste\ exemplo\ a\ distância\ até\ 1000,\ local\ onde\ estará\ o\ objetivo}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__VariaveisEstado_ga1703a3b3ed01aa7742846d296aad112d}{heuristica}}\ =\ abs(variavel\ -\/\ 1000);\ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ chamar\ a\ função\ heurística\ da\ superclass}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__RedefinicaoSugerida_ga0e8bb1bd33683545dc4f8f6329548b40}{TProcuraConstrutiva::Heuristica}}();}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

Reimplemented in \mbox{\hyperlink{classCAspirador_ada888731b2cca0a8bfa410e9bf4d188a}{CAspirador}}, \mbox{\hyperlink{classCProblemaArtificial_acefa1963a1703a5f092c391a13b37ff5}{CProblema\+Artificial}}, and \mbox{\hyperlink{classCPuzzle8_a273bc37daab41bce1aab45517e800d27}{CPuzzle8}}.



Definition at line \mbox{\hyperlink{TProcuraConstrutiva_8cpp_source_l00510}{510}} of file \mbox{\hyperlink{TProcuraConstrutiva_8cpp_source}{TProcura\+Construtiva.\+cpp}}.

Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
